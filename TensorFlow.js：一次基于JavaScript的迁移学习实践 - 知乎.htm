<!DOCTYPE html>
<!-- saved from url=(0112)https://zhuanlan.zhihu.com/p/49970085?utm_source=wechat_session&utm_medium=social&from=timeline&isappinstalled=0 -->
<html lang="zh" data-hairline="true" data-theme="light" data-focus-method="keyboard"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="google-site-verification" content="FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg"><title>知乎 - 有问题上知乎</title><meta data-react-helmet="true" property="description" content="作者：李知周2018 年对于 JavaScript 的程序员来说注定是一个不平凡的一年，比如年初 Google 将其基于 JavaScript 技术的机器学习库 machinelearning.js 正式更名为 TensorFlow.js，这也意味着 Google 将 JavaScri…"><meta data-react-helmet="true" property="og:title" content="TensorFlow.js：一次基于JavaScript的迁移学习实践"><meta data-react-helmet="true" property="og:url" content="http://zhuanlan.zhihu.com/p/49970085"><meta data-react-helmet="true" property="og:description" content="作者：李知周2018 年对于 JavaScript 的程序员来说注定是一个不平凡的一年，比如年初 Google 将其基于 JavaScript 技术的机器学习库 machinelearning.js 正式更名为 TensorFlow.js，这也意味着 Google 将 JavaScri…"><meta data-react-helmet="true" property="og:image" content="https://pic1.zhimg.com/v2-29ddf95e9b6a860e9a05e8dc348a889d_r.jpg"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="og:site_name" content="知乎专栏"><link data-react-helmet="true" rel="apple-touch-icon" href="data:image/png;base64,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"><link data-react-helmet="true" rel="apple-touch-icon" href="data:image/png;base64,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" sizes="152x152"><link data-react-helmet="true" rel="apple-touch-icon" href="data:image/png;base64,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" sizes="120x120"><link data-react-helmet="true" rel="apple-touch-icon" href="data:image/png;base64,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" sizes="76x76"><link data-react-helmet="true" rel="apple-touch-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAABVNJREFUaAXtWntsU1UY//Xdzq5dmUN0TJYNFufChClR+QNDgg+QGAWULcQQUYImJhKN8Q8TohITMYLzlRBN1CwhKsGwEOJrCQsjExcjIi4BH0FxGNmLsK2vtV3rObe053R93NN778pd1y/pende9/ud73e+75zv1OB+YziGOSTGOYRVgloCXOwWL1m4ZOEim4ESpYvMoGlwShZOmxKZArsZeHK5He8+4JRpqY9qVRa+4yYz+p7yYO99TlhN+gAkpwWxjzJx2Qz4YqMLlWXxOTt8blLZQAXupdjC25bZk2C9oRiO/RUusOrKXqcY8IZGW/KNxy+EEI4m/9X1gyJK13uMaL6Bde06r866V166XvUkVewZERqDaS3UPN5oI2ddWtJ+v1P6iA4xMRnF2gNj6B+eEu2iWTtFlN7cZFelQLnNiIdvYUtC1WB5ds7bwncvNKN+nvoYVOkwZFRVlJq0s5KlkDfgx5uZdX3EOy95fxR+bgmf3uFBbUV8Qj74MYCXj/kyArtWhXlR2k1iL09FGnt5sBSEiRsxEtVfuoxTT37OnyBbyDJLnIrU8bzZ60/rZDUyqk7pMFQJA7aQlk/f7pAADvuiaPtyAv+MpyPit5iR9Oq0CSp0gfAafrDBikveKDp+CYKuzbHJzHS1mJiFwzqktDDgznMh0I+c2DgHHuCcmVy/QtULU1pUId7C3nBmFoiONRPtNAVMz8a80LClN9EWMLd+KdCiB+y4GrISVqXHRr3JNBLmVm/VzRZ0PFKOCrsYMY60ubMOSD1+y4eX0zYuWTtoVCGmOXkZDTbtJG8lClZOvwVOI1bWWOSaaV4vDHhljRl1Hi7maKBKvcbjiagkTOnegQjkTjI773LglXuuk95L1+/Ct0dFdChoG2ELi2hV62YMuDhe+MO9iI6aAq4jqZ+EDIzpcCNNlGMaJjRV+E0PScsXsBXSPxxRONLMdtMMcPN8M2jqJiE9F8LYepsNK0iyXk+imTZr6liIicVi2LLUjk232nAlGE/YnR3Rx5pmJlFphseaWFJu0BfDhkarNCKN24cedeFGEnf1IJpoQe+YGioZWfb/FMCrx1k2pNplwkEC2mllZ+VrBV4TwM+T+MvL13+E8E5fAJ/1B5PFS8ka/+ShcnAZoGRdIR9UA26eb8K6JYzOpy9F8NtofL0+940XfRdZFuDeeiv2rIlvTAoJkn8X4yFfKvhMCUqvSnn5lKSAEhIiuLccHkf31grUEFpT2d7iwMc/B5HNiSVyzbt7fNh7MiD1WeQ24r21TqxaFPcLUqHCP6osvL3FjhXVzDsPkeTe5xyNqU4j/hjaDo2nnI3Xk/yYnKyujbehl+292zyagKXvVAx4GdlkvLY6lZ77TvoRzLDfoHdIO45OgIYrKm4uXksFGf7cWW3GkVaXxCAtnZ0iSleVGXCAnIvtZuZ1z5Kd1UenGJ2nYzhKHNnuHj92kcNFaCo1McAfSlpJeNu/vhw0N5agMG3f/kMAb5EJpctEjeQN2GM3oLPVDRpqEhImCj3zlRfTcCSqk9/7iNKNVSb8eTm71l3nQ4gSJhgN8cn8fiCMnd968ftVR5gcTOFDXoDnkQuwzs1uNFWldnuxywfqnUXkWTIxbjJp2WQ0EMOp/yJYTC7sdnX70HFG259SpGqeTQtS3lBJNg+bXMmLMtp0kKRpXvjOC0pXUZkkxh0iO7Fc8voJP34dikgOL1c7JXVCgKk91i22SlY8MxjBvxNRnCCHA0q/mfipQ/ffLHYrAZWrj6H0i/hc01MEdYrj8GzFXgI8Wy0nqnfJwqIzNVvblSw8Wy0nqvecs/D/MzttivqHJ2cAAAAASUVORK5CYII=" sizes="60x60"><link rel="shortcut icon" type="image/x-icon" href="https://static.zhihu.com/static/favicon.ico"><link rel="search" type="application/opensearchdescription+xml" href="https://static.zhihu.com/static/search.xml" title="知乎"><link rel="dns-prefetch" href="https://static.zhimg.com/"><link rel="dns-prefetch" href="https://pic1.zhimg.com/"><link rel="dns-prefetch" href="https://pic2.zhimg.com/"><link rel="dns-prefetch" href="https://pic3.zhimg.com/"><link rel="dns-prefetch" href="https://pic4.zhimg.com/"><link href="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/column.app.3368b11f33bf4d97dce4.css" rel="stylesheet"><script src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/hm.js.下载"></script><script defer="" crossorigin="anonymous" src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/init.js.下载" data-sentry-config="{&quot;dsn&quot;:&quot;https://65e244586890460588f00f2987137aa8@crash2.zhihu.com/193&quot;,&quot;sampleRate&quot;:0.1,&quot;release&quot;:&quot;365-f7a113b6&quot;,&quot;ignoreErrorNames&quot;:[&quot;NetworkError&quot;,&quot;SecurityError&quot;],&quot;ignoreErrors&quot;:[&quot;origin message&quot;,&quot;Network request failed&quot;,&quot;Loading chunk&quot;,&quot;这个系统不支持该功能。&quot;,&quot;Can&#39;t find variable: webkit&quot;,&quot;Can&#39;t find variable: $&quot;,&quot;内存不足&quot;,&quot;out of memory&quot;,&quot;DOM Exception 18&quot;,&quot;zfeedback sdk 初始化失败！&quot;,&quot;zfeedback sdk 加载失败！&quot;,&quot;The operation is insecure&quot;,&quot;[object Event]&quot;,&quot;[object FileError]&quot;,&quot;[object DOMError]&quot;,&quot;[object Object]&quot;,&quot;拒绝访问。&quot;,&quot;Maximum call stack size exceeded&quot;,&quot;UploadError&quot;,&quot;无法 fetch&quot;,&quot;draft-js&quot;,&quot;缺少 JavaScript 对象&quot;,&quot;componentWillEnter&quot;,&quot;componentWillLeave&quot;,&quot;componentWillAppear&quot;,&quot;getInlineStyleAt&quot;,&quot;getCharacterList&quot;],&quot;whitelistUrls&quot;:[&quot;static.zhihu.com&quot;]}"></script><script type="text/javascript" charset="utf-8" async="" src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/column.modals.375f6dcd1d1f3a34f78e.js.下载"></script><script type="text/javascript" charset="utf-8" async="" src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/column.richinput.bbc1a27d663c2c401b88.js.下载"></script></head><body class="" rlt="1"><div id="root"><div class="App" data-reactroot=""><div class="LoadingBar"></div><main role="main" class="App-main"><div class="Post-content" data-zop-usertoken="{&quot;userToken&quot;:&quot;&quot;}" data-zop="{&quot;authorName&quot;:&quot;新智元&quot;,&quot;itemId&quot;:49970085,&quot;title&quot;:&quot;TensorFlow.js：一次基于JavaScript的迁移学习实践&quot;,&quot;type&quot;:&quot;article&quot;}" data-za-detail-view-path-module="PostItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;token&quot;:&quot;49970085&quot;}}}"><div class="ColumnPageHeader-Wrapper"><div><div class="Sticky ColumnPageHeader"><div class="ColumnPageHeader-content"><a href="https://www.zhihu.com/" aria-label="知乎"><svg viewBox="0 0 200 91" class="Icon ZhihuLogo ZhihuLogo--blue Icon--logo" style="height:30px;width:64px" width="64" height="30" aria-hidden="true"><title></title><g><path d="M53.29 80.035l7.32.002 2.41 8.24 13.128-8.24h15.477v-67.98H53.29v67.978zm7.79-60.598h22.756v53.22h-8.73l-8.718 5.473-1.587-5.46-3.72-.012v-53.22zM46.818 43.162h-16.35c.545-8.467.687-16.12.687-22.955h15.987s.615-7.05-2.68-6.97H16.807c1.09-4.1 2.46-8.332 4.1-12.708 0 0-7.523 0-10.085 6.74-1.06 2.78-4.128 13.48-9.592 24.41 1.84-.2 7.927-.37 11.512-6.94.66-1.84.785-2.08 1.605-4.54h9.02c0 3.28-.374 20.9-.526 22.95H6.51c-3.67 0-4.863 7.38-4.863 7.38H22.14C20.765 66.11 13.385 79.24 0 89.62c6.403 1.828 12.784-.29 15.937-3.094 0 0 7.182-6.53 11.12-21.64L43.92 85.18s2.473-8.402-.388-12.496c-2.37-2.788-8.768-10.33-11.496-13.064l-4.57 3.627c1.363-4.368 2.183-8.61 2.46-12.71H49.19s-.027-7.38-2.372-7.38zm128.752-.502c6.51-8.013 14.054-18.302 14.054-18.302s-5.827-4.625-8.556-1.27c-1.874 2.548-11.51 15.063-11.51 15.063l6.012 4.51zm-46.903-18.462c-2.814-2.577-8.096.667-8.096.667s12.35 17.2 12.85 17.953l6.08-4.29s-8.02-11.752-10.83-14.33zM199.99 46.5c-6.18 0-40.908.292-40.953.292v-31.56c1.503 0 3.882-.124 7.14-.376 12.773-.753 21.914-1.25 27.427-1.504 0 0 3.817-8.496-.185-10.45-.96-.37-7.24 1.43-7.24 1.43s-51.63 5.153-72.61 5.64c.5 2.756 2.38 5.336 4.93 6.11 4.16 1.087 7.09.53 15.36.277 7.76-.5 13.65-.76 17.66-.76v31.19h-41.71s.88 6.97 7.97 7.14h33.73v22.16c0 4.364-3.498 6.87-7.65 6.6-4.4.034-8.15-.36-13.027-.566.623 1.24 1.977 4.496 6.035 6.824 3.087 1.502 5.054 2.053 8.13 2.053 9.237 0 14.27-5.4 14.027-14.16V53.93h38.235c3.026 0 2.72-7.432 2.72-7.432z" fill-rule="evenodd"></path></g></svg></a><i class="ColumnPageHeader-Line"></i><div class="ColumnPageHeader-Title"><a class="ColumnLink ColumnPageHeader-Link" href="https://zhuanlan.zhihu.com/c_207951713"><img class="Avatar Avatar--round" width="30" height="30" src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/v2-e38a8ac8a8d1962ee7859e5165976003_is.jpg" srcset="https://pic1.zhimg.com/v2-e38a8ac8a8d1962ee7859e5165976003_im.jpg 2x" alt="AI前沿研究"></a><div class="ColumnPageHeader-TitleName"><span class="ColumnPageHeader-TitleMeta">首发于</span><a class="ColumnLink ColumnPageHeader-TitleColumn" href="https://zhuanlan.zhihu.com/c_207951713">AI前沿研究</a></div></div><div class="ColumnPageHeader-Button"><button type="button" class="Button ColumnPageHeader-WriteButton Button--blue"><svg class="Zi Zi--EditSurround" fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M18.453 7.992l-1.833-1.65.964-.978a1.223 1.223 0 0 1 1.73-.012l.005.006a1.24 1.24 0 0 1 .007 1.748l-.873.886zm-1.178 1.194l-5.578 5.66-1.935.697a.393.393 0 0 1-.504-.504l.697-1.935 5.488-5.567 1.832 1.65zM7.58 5.848l5.654.006-1.539 1.991-3.666.012A1.02 1.02 0 0 0 7 8.868v7.993c0 .558.46 1.01 1.029 1.01l7.941-.01c.568 0 1.03-.453 1.03-1.012v-4.061l2-1.442v6.002c0 1.397-1.2 2.501-2.62 2.501H7.574C6.153 19.85 5 18.717 5 17.32V8.35c0-1.397 1.16-2.502 2.58-2.502z"></path></svg>写文章</button></div></div></div></div></div><img class="TitleImage" src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/v2-29ddf95e9b6a860e9a05e8dc348a889d_1200x500.jpg" alt="TensorFlow.js：一次基于JavaScript的迁移学习实践"><article class="Post-Main Post-NormalMain"><header class="Post-Header"><h1 class="Post-Title">TensorFlow.js：一次基于JavaScript的迁移学习实践</h1><div class="Post-Author"><div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="新智元"><meta itemprop="image" content="https://pic4.zhimg.com/v2-f10777f9d6ff1f876b0a21248699b49d_is.jpg"><meta itemprop="url" content="https://www.zhihu.com/people/xin-zhi-yuan-88-3"><meta itemprop="zhihu:followerCount"><span class="UserLink AuthorInfo-avatarWrapper"><div class="Popover"><div id="Popover1-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover1-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/org/xin-zhi-yuan-88-3"><img class="Avatar Avatar--round AuthorInfo-avatar" width="38" height="38" src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/v2-f10777f9d6ff1f876b0a21248699b49d_xs.jpg" srcset="https://pic4.zhimg.com/v2-f10777f9d6ff1f876b0a21248699b49d_l.jpg 2x" alt="新智元"></a></div></div></span><div class="AuthorInfo-content"><div class="AuthorInfo-head"><span class="UserLink AuthorInfo-name"><div class="Popover"><div id="Popover2-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover2-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/org/xin-zhi-yuan-88-3">新智元</a></div></div><a class="UserLink-badge" data-tooltip="已认证的官方帐号" href="https://www.zhihu.com/question/48510028" target="_blank"><svg viewBox="0 0 20 20" class="Icon Icon--badgeCert" style="height:16px;width:16px" width="16" height="16" aria-hidden="true"><title>用户标识</title><g><g fill="none" fill-rule="evenodd">     <path d="M.64 11.39c1.068.895 1.808 2.733 1.66 4.113l.022-.196c-.147 1.384.856 2.4 2.24 2.278l-.198.016c1.387-.12 3.21.656 4.083 1.735l-.125-.154c.876 1.085 2.304 1.093 3.195.028l-.127.152c.895-1.068 2.733-1.808 4.113-1.66l-.198-.022c1.386.147 2.402-.856 2.28-2.238l.016.197c-.12-1.388.656-3.212 1.735-4.084l-.154.125c1.084-.876 1.093-2.304.028-3.195l.152.127c-1.068-.895-1.808-2.732-1.66-4.113l-.022.198c.147-1.386-.856-2.4-2.24-2.28l.198-.016c-1.387.122-3.21-.655-4.083-1.734l.125.153C10.802-.265 9.374-.274 8.483.79L8.61.64c-.895 1.068-2.733 1.808-4.113 1.662l.198.02c-1.386-.147-2.4.857-2.28 2.24L2.4 4.363c.12 1.387-.656 3.21-1.735 4.084l.154-.126C-.265 9.2-.274 10.626.79 11.517L.64 11.39z" fill="#0F88EB"></path>     <path d="M7.78 13.728l-2.633-3s-.458-.704.242-1.36c.7-.658 1.327-.22 1.327-.22L8.67 11.28l4.696-4.93s.663-.35 1.3.197c.635.545.27 1.382.27 1.382s-3.467 3.857-5.377 5.78c-.98.93-1.78.018-1.78.018z" fill="#FFF"></path>1   </g></g></svg></a></span></div><div class="AuthorInfo-detail"><div class="AuthorInfo-badge"><div class="AuthorInfo-badgeText">已认证的官方帐号</div></div></div></div></div></div><div><span class="Voters"><button type="button" class="Button Button--plain">5 人<!-- -->赞了该文章</button></span></div></header><div><div class="RichText ztext Post-RichText"><p>作者：李知周</p><blockquote>2018 年对于 JavaScript 的程序员来说注定是一个不平凡的一年，比如年初 Google 将其基于 JavaScript 技术的机器学习库 machinelearning.js 正式更名为 TensorFlow.js，这也意味着 Google 将 JavaScript 语言升级为其人工智能战略的重要环节。从此 JavaScript 有了自己的机器学习框架，赶上了人工智能的风口，再次华丽转身，而迁移学习能用 JavaScript 实现了。接下来就让笔者带着大家一起学习如何在物联网环境中应用基于 JavaScript 的机器学习技术。</blockquote><h2><b>1. TensorFlow.js</b></h2><p>TensorFlow.js 是一个开源的基于 WebGL 硬件加速技术的 JavaScript 库，用于训练和部署机器学习模型，其设计理念借鉴于目前广受欢迎的 TensorFlow 深度学习框架。谷歌推出的第一个基于 TensorFlow 的前端深度学习框架是 deeplearning.js 其使用 TypeScript 语言开发， 2018 年 Google 将其重新命名为 TensorFlow.js Core 并在 TypeScript 内核的基础上增加了 JavaScript 的接口以及 TensorFlow 模型导入等工程合成了 TensorFlow.js 深度学习框架，基于浏览器和 Javascript 的 Tensorflow.js 相较与其他深度学习框架具有以下的几个优点。</p><p><b>1）不用安装驱动器和软件，通过链接即可分享程序</b>，随着互联的普及浏览器是目前世界上安装最大的软件工具，现在几乎任何用户设备都会安装有浏览器并能运行 JavaScript 语言。</p><p><b>2）网页应用交互性更强</b>，在互联网时代，网页设计已经成为界面交互设计的标准，互联网公司开源了大量设计美观使用方便的 JavaScript 交互式设计，利用这些交互设计可以很方便得实现人与深度学习算法的交互。</p><p><b>3）有直接访问 GPS 定位、摄像头、麦克风、加速度计、陀螺等传感器，以及各种其他设备的标准 API。</b>随着手机的普及以及手机浏览器标准的完善，为作为浏览器端的 JavaScript 语言提供了跨平台的标准 API，大大方便了程序包括深度学习程序的开发。</p><p><b>4）安全性，</b>因为数据都是保存在客户端的，训练的数据无须上传到服务器端。由于基于 JavaScript 的深度学习完全运行于客户端浏览器，无须服务器端干预，训练的数据（比如声音图像）都可以直接通过 JavaScript 的 API 获得，并利用浏览器的 WebGL 环境进行运算，完全不需要上传数据，保证了数据的安全，避免了隐私的泄漏。</p><p><br></p><p>TensorFlow.js 作为深度学习框架体和 TensorFlow 一样在底层通过提供基于 Tensor 的数据流图计算支持来完成深度学习的训练。与此同时，TensorFlow.js 同样提供了类似 Keras 的神经网络高层抽象，以方便使用者能够快速、高效地开发神经网络层级模型，而无须陷入到繁杂的底层计算图中。首先看一下 TensorFlow.js 中是如何进行 Tensor 数据流图计算的例子：</p><div class="highlight"><pre><code class="language-js"><span></span><span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]);</span> <span class="c1">// 创建一个张量 tensor</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">square</span><span class="p">().</span><span class="nx">print</span><span class="p">();</span><span class="c1">// 对 tensor 应用 square 算子，然后打印结果</span>
</code></pre></div><p>接着我们再来看一个比较复杂的例子：</p><div class="highlight"><pre><code class="language-js"><span></span><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">tidy</span><span class="p">(()=&gt;{</span> <span class="c1">//由于TensorFlow.js使用WebGL环境，为了屏蔽GPU内存管理的细节，TensorFlow.js提供了tf.tidy函数，自动实现GPU内存的回收</span>
		<span class="kr">const</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">x</span><span class="p">.</span><span class="nx">square</span><span class="p">();</span> <span class="c1">//对 x使用square算子</span>
		<span class="kr">const</span> <span class="nx">z</span> <span class="o">=</span> <span class="nx">x</span><span class="p">.</span><span class="nx">mul</span><span class="p">(</span><span class="nx">y</span><span class="p">);</span> <span class="c1">//对，x与y使用mul算子</span>
		<span class="k">return</span> <span class="nx">z</span> <span class="c1">// 最终得到的结果是z=x * x^2</span>
        <span class="p">});</span>
<span class="p">}</span>
</code></pre></div><p>上面这段程序所代表的 tensor 计算流图如下所示：</p><figure><noscript>&lt;img src="https://pic2.zhimg.com/v2-e0ca013975ca84dc261c9ca4d53e5f41_b.jpg" data-caption="" data-size="normal" data-rawwidth="206" data-rawheight="331" class="content_image" width="206"&gt;</noscript><span><div class="VagueImage content_image" data-src="https://pic2.zhimg.com/80/v2-e0ca013975ca84dc261c9ca4d53e5f41_hd.jpg" style="width: 206px; height: 331px;"><div class="VagueImage-mask is-active"></div></div></span></figure><p>有了对 TensorFlow.js 的基本理解，接着再来看看使用高级的神经网络层 API 的 JavaScript 例子：</p><div class="highlight"><pre><code class="language-js"><span></span><span class="o">&lt;</span><span class="nx">html</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">head</span><span class="o">&gt;</span>
    <span class="c">&lt;!--</span> <span class="nx">从CDN加载TensorFlow</span><span class="p">.</span><span class="nx">js的核心js文件</span> <span class="o">--&gt;</span>
    <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="err">/script&gt; </span>
    <span class="c">&lt;!--</span> <span class="nx">Place</span> <span class="nx">your</span> <span class="nx">code</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">script</span> <span class="nx">tag</span> <span class="nx">below</span><span class="p">.</span> <span class="nx">You</span> <span class="nx">can</span> <span class="nx">also</span> <span class="nx">use</span> <span class="nx">an</span> <span class="nx">external</span> <span class="p">.</span><span class="nx">js</span> <span class="nx">file</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>         
<span class="c1">// 使用TensorFlow.js的sequential API来定义神经网络，这里我们定义最简单的神经网络，</span>
<span class="c1">//线性回归模型  </span>
<span class="kr">const</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">sequential</span><span class="p">();</span>      
<span class="c1">// 创建输入为一维的包含一个神经元的线性神经网络层</span>
<span class="nx">model</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">tf</span><span class="p">.</span><span class="nx">layers</span><span class="p">.</span><span class="nx">dense</span><span class="p">({</span><span class="nx">units</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">inputShape</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]}));</span>      
<span class="c1">// 创建训练误差函数(均方误差)，以及优化算法(随机梯度下降)</span>
<span class="nx">model</span><span class="p">.</span><span class="nx">compile</span><span class="p">({</span><span class="nx">loss</span><span class="o">:</span> <span class="s1">'meanSquaredError'</span><span class="p">,</span> <span class="nx">optimizer</span><span class="o">:</span> <span class="s1">'sgd'</span><span class="p">});</span>         
<span class="kr">const</span> <span class="nx">xs</span> <span class="o">=</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">tensor2d</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">]);</span>     <span class="c1">//创建训练样本x  </span>
<span class="kr">const</span> <span class="nx">ys</span> <span class="o">=</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">tensor2d</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">]);</span>     <span class="c1">//创建训练标签y     </span>
<span class="nx">model</span><span class="p">.</span><span class="nx">fit</span><span class="p">(</span><span class="nx">xs</span><span class="p">,</span> <span class="nx">ys</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>        <span class="c1">// 使用训练样本训练网络      </span>
<span class="c1">// 当训练完成后，使用网络对新数据做预测        </span>
<span class="nx">model</span><span class="p">.</span><span class="nx">predict</span><span class="p">(</span><span class="nx">tf</span><span class="p">.</span><span class="nx">tensor2d</span><span class="p">([</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])).</span><span class="nx">print</span><span class="p">();</span>    
<span class="p">});</span>    
<span class="o">&lt;</span><span class="err">/script&gt;</span>
  <span class="o">&lt;</span><span class="err">/head&gt;</span>
  <span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="err">/body&gt;</span>
<span class="o">&lt;</span><span class="err">/html&gt;</span>
</code></pre></div><p><br></p><h2><b>2. JavaScript 物联网</b></h2><p>网络中，HTTP 协议与 JSON 数据格式，特别是 RESTful API 无疑具有支配地位，各种云服务、数据传输都基于这些协议来进行。而 JavaScript 为 HTTP 和 JSON 提供了最好的支持，当物联网系统采用 JavaScript 开发时，天然对接了互联网上海量的云服务与云资源，包括云存储、云计算等一系列资源都可被方便调用，就像你在手机端访问各种云服务一样。微服务构架在服务器端的兴起，让 JavaScript 编写的每一个物联网节点都可以作为一个<b>大系统中的微服务</b>，通过 RESTful API 接口提供自己的服务。</p><p>在设计模式上，JavaScript 的回调与事件循环等<b>基于事件驱动的编程模型</b>非常适合物联网。在物联网环境下，环境在不断变化，物联网节点要不断对环境的变动做出响应，换句话说物联网系统通常是 I/O 密集型的系统，回调与事件循环高效地完成了密集 I/O 操作这项工作，而事件响应式编程相比于多进程和多线程编程在内存的使用上又非常高效，而这又是物联网系统所需要的，通常物联网系统都是资源受限系统，内存与 CPU 的频率都非常有限。物联网节点底层开发中通常采用中断响应模式，在 CPU 中由称为中断控制器的硬件来检查中断信号的出现，并在中断出现后控制 CPU 执行特定程序片段，这一执行模式和 JavaScript 的回调一致，很容易使用 JavaScript 回调机制来实现硬件的中断响应。</p><p>物联网节点的部署特点决定了其回收维护成本非常高昂甚至是不可接受的。而物联网节点要不断应对新的环境与应用需求，所以在开发中物联网节点的远程部署与更新是非常重要的一个功能。JavaScript 本来就是实现从服务器端向客户端部署的一门语言，其天然就具有在网路上实现远程部署的属性，实现起来就像你用浏览器下载 JavaScript 脚本并运行一样简单。</p><p>JavaScript 的<b>热部署</b>也是一个比较热门的研究领域，通过热部署，物联网节点可以实现在运行过程中远程添加新功能，远程修正 Bug。</p><h2><b>3. 迁移学习</b></h2><p>学习迁移是指一种学习对另一种学习的影响，或习得的经验对完成其他活动的影响。迁移广泛存在于各种知识、技能与社会规范的学习中。由于学习活动总是建立在已有的知识经验之上的，这种利用已有的知识经验不断地获得新知识和技能的过程，可以认为是广义的学习迁移；而新知识技能的获得也不断地使已有的知识经验得到扩充和丰富，这就是我们常说的 “举一反三”“触类旁通”，这个过程也属于<b>广义的学习迁移</b>。</p><p>而对应到神经网络的学习训练领域，特别是深度学习领域的迁移学习，则是尝试将已经使用大量标注数据样例训练好的模型，通过迁移学习应用到和标注数据样例所不同的领域当中去。举个例子，当我们使用猫狗识别的标注数据训练好一个网络后，通过迁移学习，我们就有可能实现将网络应用到鸡和鸭的识别任务中，实现深度学习模型的举一反三与触类旁通。</p><p><b>机器学习</b>是人工智能的一大类重要方法，也是目前发展最迅速、效果最显著的方法。机器学习解决的是让机器自主地从数据中获取知识，从而应用于新的问题中。迁移学习作为机器学习的一个重要分支，侧重于将已经学习过的知识迁移应用于新的问题中。迁移学习的核心问题是，找到新问题和原问题之间的相似性，才可以顺利地实现知识的迁移。</p><p>在我们前面的例子中，只有我们找到了猫狗识别与鸡鸭识别的相似性，通过这一相似性才能很好得实现迁移学习。而对应到深度学习领域，迁移学习可以粗略的分为两个大的方向：<b>输入空间的迁移和特征空间的迁移</b>。</p><p>深度神经网络在结构上拥有很多层次，有输入层、中间层与输出层，当应用迁移学习到深度神经网络上，我们可以发现中间层包含了整个神经网络绝大部分的参数与信息，为了能实现举一反三与触类旁通，减少参数重新训练的代价，应该尽可能保留神经网络中间层的参数结果，因此在深度学习中的实现迁移学习，其目标就落在了输入层与输出层网络。</p><p><b>对输入层进行迁移学习，就是所谓的输入空间的迁移学习</b>，通过改变输入层，将新领域的数据变换为已经学习领域的相似数据，通过原有的剩余网络层完成分类与预测任务。</p><p><b>而对输出层的迁移学习，就是所谓特征空间的迁移</b>，在这一场景下，原有神经网络的特征空间输出被保留、被认为仍然可以应用到新问题上，而输出层被丢弃，通过重新训练网络输出层，实现将整个网络迁移到新问题上。在下面的内容中，我们将看到如何通过特征空间的迁移，实现物联网设备的控制。</p><h2><b>4. 迁移学习在物联网中的应用</b></h2><p>物联网的核心是数据的流动，只有数据流动起来才能最大限度发挥物联网的价值。用数据驱动物联网，实现物联网的智能化。而在这个大数据人工智能大行的时代，能够最大限度挖掘数据中的价值的自然是人工智能技术，而<b>要想在物联网中充分利用人工智能技术，迁移学习是其中的关键与枢纽</b>。</p><p>在物联网场景中，通常我们遇到的应用问题<b>一是计算资源的限制，二是网络传输的不稳定与低带宽。</b></p><p>对于物联网来讲，其中的设备多是嵌入式设备，其 CPU 通常都是计算能力非常弱的，基本没有可能进行基本的神经网络训练计算。而目前流行的基于大数据与云计算环境的人工智能技术，通常则需要良好的网络连接和强大的带宽保证。在物联网环境连接的有效性都不太容易保证，更难实现高带宽的传输了。</p><p>为了在物联网中应用人工智能技术，我们必须突破现有技术框架，创造性地解决物联网中的人工智能问题。而迁移学习正是解决这一问题的一把钥匙。利用迁移学习，我们可以使用现有大数据人工智能技术的成果，将现有的深度学习模型作为迁移的基础，这样我们等于站在巨人的肩膀上，所需消耗的网络带宽仅仅是传输模型参数，而无须传输海量数据。</p><p>同时在物联网场景下，我们将已经训练好的模型做迁移学习，可以大大降低网络训练的计算量，在迁移学习过程中，我们固定了神经网络中复杂的非线性部分，而去学习一些线性的参数部分，这可以大大降低对物联网设备的计算能力的要求。</p><p>最后通过使用物联网采集的数据对模型进行迁移，使得模型能够很好匹配物联网环境中当前的应用场景，并且避免了将数据传回云端的带宽需求。对于一些特殊的物联网应用场景，这一模式必不可少。</p><p>比如在安防以及工业互联网这样的物联网应用中，物联网的信息安全是一个必须的选项。整个物联网不和互联网相连而同时又没有足够的计算资源用于网络训练，如果在物联网节点上实现迁移学习，直接在节点上实现数据处理，既减少了物联网设备的响应时间又能够避免数据在公网上传输造成的数据的泄漏与攻击威胁。</p><h2><b>5. Openfpgaduino 物联网迁移学习之手势识别控制</b></h2><p>在文章的最后，笔者就以自己设计的 Openfpgaduino 物联网网关为例，利用 TensorFlow.js 实现迁移学习，并结合手势的识别来完成物联网设备的控制。手势识别的完整代码放在了 GitHub 上，完整的路径如下：<a href="http://link.zhihu.com/?target=https%3A//github.com/OpenFPGAduino/machinelearning/tree/master/tensorflow.js/web" class=" external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043"><span class="invisible">https://</span><span class="visible">github.com/OpenFPGAduin</span><span class="invisible">o/machinelearning/tree/master/tensorflow.js/web</span><span class="ellipsis"></span></a>。</p><p>为了方便读者理解这个程序，让我们一起来看一下程序的核心部分：</p><p>首先是最重要的 index.js 文件：</p><div class="highlight"><pre><code class="language-js"><span></span><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">tf</span> <span class="nx">from</span> <span class="s1">'@tensorflow/tfjs'</span><span class="p">;</span>  <span class="c1">//导入tensorflow.js的JavaScript包</span>

<span class="kr">import</span> <span class="p">{</span><span class="nx">ControllerDataset</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'./controller_dataset'</span><span class="p">;</span> <span class="c1">//导入ControllerDataset，存储用于进行迁移学习的数据例子</span>
<span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">ui</span> <span class="nx">from</span> <span class="s1">'./ui'</span><span class="p">;</span> <span class="c1">//导入UI控制的一些辅助程序</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">Webcam</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'./webcam'</span><span class="p">;</span> <span class="c1">//导入webcam用于控制摄像头捕捉手势数据</span>

<span class="c1">// 定义需要识别的图像类别数量，这里我们定义了上下左右四个类别</span>
<span class="kr">const</span> <span class="nx">NUM_CLASSES</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>

<span class="c1">// 创建Webcam对象，在webcam.js中实现了将网页中获取的以webcam为名字的文档对象转换为可以被tensorflow.js识别和使用的张量（Tensors），名为webcam的文档对象其实是一个html的video tag，在这个tag中存储了当前摄像头捕捉到的图像</span>
<span class="kr">const</span> <span class="nx">webcam</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Webcam</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'webcam'</span><span class="p">));</span>

<span class="c1">// 创建用于存储迁移学习所需要的训练数据集</span>
<span class="kr">const</span> <span class="nx">controllerDataset</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ControllerDataset</span><span class="p">(</span><span class="nx">NUM_CLASSES</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">mobilenet</span><span class="p">;</span> <span class="c1">//声明用于存储迁移学习所需神经网络的固定部分</span>
<span class="kd">let</span> <span class="nx">model</span><span class="p">;</span> <span class="c1">//声明用于存储迁移学习所需神经网络的可训练部分</span>

<span class="c1">// 加载著名的mobilenet图片识别神经网络，这一神经网络在保证识别精度的前提下，大大减少了神经网络的规模与数据量。在迁移学习的例子中将使用其中的卷积网络部分作为迁移学习的固定部分</span>
<span class="nx">async</span> <span class="kd">function</span> <span class="nx">loadMobilenet</span><span class="p">()</span> <span class="p">{</span>   <span class="c1">//JavaScript异步函数</span>
  <span class="kr">const</span> <span class="nx">mobilenet</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">loadModel</span><span class="p">(</span> <span class="c1">//异步等待模型加载</span>
  <span class="c1">//加载模型的数据文件model.json    'https://storage.googleapis.com/tfjs-models/tfjs/mobilenet_v1_0.25_224/model.json');</span>
  <span class="c1">// 导出mobilenet 网络中间的卷积层输出</span>
  <span class="kr">const</span> <span class="nx">layer</span> <span class="o">=</span> <span class="nx">mobilenet</span><span class="p">.</span><span class="nx">getLayer</span><span class="p">(</span><span class="s1">'conv_pw_13_relu'</span><span class="p">);</span>
  <span class="c1">// 使用导出的卷积层创建迁移学习神经网络的固定部分</span>
  <span class="k">return</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">model</span><span class="p">({</span><span class="nx">inputs</span><span class="o">:</span> <span class="nx">mobilenet</span><span class="p">.</span><span class="nx">inputs</span><span class="p">,</span> <span class="nx">outputs</span><span class="o">:</span> <span class="nx">layer</span><span class="p">.</span><span class="nx">output</span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// 当我们在UI上按下按钮后，摄像头的图像将被采集下来，并根据我们按的按钮标进行标注，我们一共要识别上下左右四种手势，因此对应了0，1，2，3四种标注</span>
<span class="nx">ui</span><span class="p">.</span><span class="nx">setExampleHandler</span><span class="p">(</span><span class="nx">label</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">tf</span><span class="p">.</span><span class="nx">tidy</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="c1">//使用tensorflow.js上下文环境，做好GPU内存的管理</span>
    <span class="kr">const</span> <span class="nx">img</span> <span class="o">=</span> <span class="nx">webcam</span><span class="p">.</span><span class="nx">capture</span><span class="p">();</span> <span class="c1">//从摄像头获取图片</span>
<span class="c1">//首先使用mobilenet对图像进行处理，获得卷积层输出的特征，然后再与图像标注一起添加到训练数据集中去。</span>
<span class="nx">controllerDataset</span><span class="p">.</span><span class="nx">addExample</span><span class="p">(</span><span class="nx">mobilenet</span><span class="p">.</span><span class="nx">predict</span><span class="p">(</span><span class="nx">img</span><span class="p">),</span> <span class="nx">label</span><span class="p">);</span>
    <span class="c1">// 将采用到的图像放到响应标注的图片框中做数据展示</span>
    <span class="nx">ui</span><span class="p">.</span><span class="nx">drawThumb</span><span class="p">(</span><span class="nx">img</span><span class="p">,</span> <span class="nx">label</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>

<span class="c1">// 配置，并训练分类器</span>
<span class="nx">async</span> <span class="kd">function</span> <span class="nx">train</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">controllerDataset</span><span class="p">.</span><span class="nx">xs</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">//如果还没有训练数据，则提示添加数据</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">'Add some examples before training!'</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="c1">// 创建一个2层的全联接网络。这里我们创建了新的网络，而不是在mobilenet里添加层，这样保证了mobilenet在整个训练过程中权重参数是固定不变的不受训练影响，而只训练新创建的2层全联接网络的权重参数</span>
  <span class="nx">model</span> <span class="o">=</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">sequential</span><span class="p">({</span>  <span class="c1">//使用tensorflow.js创建神经网络模型</span>
    <span class="nx">layers</span><span class="o">:</span> <span class="p">[</span> <span class="c1">//定义每个神经网络层</span>
      <span class="c1">// 创建扁平化层，这样层的功能是将输入的张量也就是mobilenet卷积层的输出扁平化为一个矢量。从技术角度来讲，这一层其实就是张量的一次变形，并没有任何计算以及网络权重参数</span>
      <span class="nx">tf</span><span class="p">.</span><span class="nx">layers</span><span class="p">.</span><span class="nx">flatten</span><span class="p">({</span><span class="nx">inputShape</span><span class="o">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">256</span><span class="p">]}),</span>
      <span class="c1">// 网络第一层</span>
      <span class="nx">tf</span><span class="p">.</span><span class="nx">layers</span><span class="p">.</span><span class="nx">dense</span><span class="p">({</span>
        <span class="nx">units</span><span class="o">:</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">getDenseUnits</span><span class="p">(),</span> <span class="c1">//定义神经元个数</span>
        <span class="nx">activation</span><span class="o">:</span> <span class="s1">'relu'</span><span class="p">,</span> <span class="c1">//定义激活函数为relu</span>
        <span class="nx">kernelInitializer</span><span class="o">:</span> <span class="s1">'varianceScaling'</span><span class="p">,</span> <span class="c1">//定义网络权重的初始化函数，使用varianceScaling来进行权重初始化</span>
        <span class="nx">useBias</span><span class="o">:</span> <span class="kc">true</span> <span class="c1">// 网络带有偏置权重</span>
      <span class="p">}),</span>
  <span class="c1">// 网络第二层。神经元个数等于我们要输出的类别个数</span>
      <span class="nx">tf</span><span class="p">.</span><span class="nx">layers</span><span class="p">.</span><span class="nx">dense</span><span class="p">({</span>
        <span class="nx">units</span><span class="o">:</span> <span class="nx">NUM_CLASSES</span><span class="p">,</span> <span class="c1">// 定义神经元个数</span>
        <span class="nx">kernelInitializer</span><span class="o">:</span> <span class="s1">'varianceScaling'</span><span class="p">,</span>
        <span class="nx">useBias</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>  <span class="c1">//不使用配置权重</span>
        <span class="nx">activation</span><span class="o">:</span> <span class="s1">'softmax'</span> <span class="c1">//定义激活函数为softmax</span>
      <span class="p">})</span>
    <span class="p">]</span>
  <span class="p">});</span>
<span class="c1">// 创建优化器，用于驱动神经网络模型的训练。这里使用了基于自适应动量的参数优化算法，学习算法的学习率在网页上设置</span>
  <span class="kr">const</span> <span class="nx">optimizer</span> <span class="o">=</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">train</span><span class="p">.</span><span class="nx">adam</span><span class="p">(</span><span class="nx">ui</span><span class="p">.</span><span class="nx">getLearningRate</span><span class="p">());</span>
  <span class="c1">// 这里使用了categoricalCrossentropy 作为优化目标的损失函数。这一损失函数度量了我们的预测目标与实际测量值的概率分布间的差异，比如对于上面的四类分类器，模型在训练中可能会输出，向上手势概率是60%，向下手势概率是20%，向右手势概率是10%，向左手势概率是10%，而我们标签会是向上概率100%，其他0%，计算这两个分布的交叉熵就是目标的损失函数</span>
  <span class="nx">model</span><span class="p">.</span><span class="nx">compile</span><span class="p">({</span><span class="nx">optimizer</span><span class="o">:</span> <span class="nx">optimizer</span><span class="p">,</span> <span class="nx">loss</span><span class="o">:</span> <span class="s1">'categoricalCrossentropy'</span><span class="p">});</span>

  <span class="c1">//这里将每次处理批次的大小设置为整个训练集的大小的一个比例，应为训练集的数量是不过定的，这样我们可以获得一个自适应的训练批次大小</span>
  <span class="kr">const</span> <span class="nx">batchSize</span> <span class="o">=</span>
      <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">controllerDataset</span><span class="p">.</span><span class="nx">xs</span><span class="p">.</span><span class="nx">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">getBatchSizeFraction</span><span class="p">());</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">batchSize</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span> <span class="c1">//如果还没有训练数据，抛出异常</span>
        <span class="sb">`Batch size is 0 or NaN. Please choose a non-zero fraction.`</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// 开始训练模型，Model.fit()会自动为我们随机打乱训练数据   model.fit(controllerDataset.xs, controllerDataset.ys, {</span>
    <span class="nx">batchSize</span><span class="p">,</span>                <span class="c1">//训练批次大小</span>
    <span class="nx">epochs</span><span class="o">:</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">getEpochs</span><span class="p">(),</span>    <span class="c1">//训练的阶段数，也就是在一组数据上重复训练几次</span>
    <span class="nx">callbacks</span><span class="o">:</span> <span class="p">{</span>               <span class="c1">//训练批次完成后的异步回调函数</span>
      <span class="nx">onBatchEnd</span><span class="o">:</span> <span class="nx">async</span> <span class="p">(</span><span class="nx">batch</span><span class="p">,</span> <span class="nx">logs</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>   
        <span class="nx">ui</span><span class="p">.</span><span class="nx">trainStatus</span><span class="p">(</span><span class="s1">'Loss: '</span> <span class="o">+</span> <span class="nx">logs</span><span class="p">.</span><span class="nx">loss</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">5</span><span class="p">));</span><span class="c1">//打印最后的损失函数度量</span>
       <span class="c1">//等待下一个能够用于tensorflow.js计算的窗口，由于JavaScript是前端控制语言，</span>
<span class="c1">//长时间的程序运行会导致UI界面停止响应，需要交替做计算与UI展示</span>
 <span class="nx">await</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">nextFrame</span><span class="p">();</span>        
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">isPredicting</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">//标识模型是在训练还是在预测</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">predict</span><span class="p">()</span> <span class="p">{</span>  <span class="c1">//进行手势识别预测</span>
  <span class="nx">ui</span><span class="p">.</span><span class="nx">isPredicting</span><span class="p">();</span>        <span class="c1">//将Web设置为预测状态</span>
  <span class="k">while</span> <span class="p">(</span><span class="nx">isPredicting</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">predictedClass</span> <span class="o">=</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">tidy</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">img</span> <span class="o">=</span> <span class="nx">webcam</span><span class="p">.</span><span class="nx">capture</span><span class="p">();</span> <span class="c1">//获取webcam的图像</span>

      <span class="c1">// 使用mobilenet网络进行第一步预测, 获取mobilenet网络的卷积层激活函数的输出.</span>
      <span class="kr">const</span> <span class="nx">activation</span> <span class="o">=</span> <span class="nx">mobilenet</span><span class="p">.</span><span class="nx">predict</span><span class="p">(</span><span class="nx">img</span><span class="p">);</span>

      <span class="c1">// 使用新训练的迁移层对网络进行训练，使用mobilenet作为输入</span>
      <span class="kr">const</span> <span class="nx">predictions</span> <span class="o">=</span> <span class="nx">model</span><span class="p">.</span><span class="nx">predict</span><span class="p">(</span><span class="nx">activation</span><span class="p">);</span>

      <span class="c1">// 返回预测的手势中概率最大的那一个。对应来说就是网络识别后认为最可能的手势。</span>
      <span class="k">return</span> <span class="nx">predictions</span><span class="p">.</span><span class="nx">as1D</span><span class="p">().</span><span class="nx">argMax</span><span class="p">();</span>
    <span class="p">});</span>

    <span class="kr">const</span> <span class="nx">classId</span> <span class="o">=</span> <span class="p">(</span><span class="nx">await</span> <span class="nx">predictedClass</span><span class="p">.</span><span class="nx">data</span><span class="p">())[</span><span class="mi">0</span><span class="p">];</span> <span class="c1">//获取预测类别</span>
    <span class="nx">predictedClass</span><span class="p">.</span><span class="nx">dispose</span><span class="p">();</span>  <span class="c1">//释放用于预测的GPU资源</span>

    <span class="nx">ui</span><span class="p">.</span><span class="nx">predictClass</span><span class="p">(</span><span class="nx">classId</span><span class="p">);</span>   <span class="c1">//在UI上显示预测类别</span>
    <span class="nx">await</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">nextFrame</span><span class="p">();</span>      <span class="c1">//等待下一个能够用于tensorflow.js计算的窗口 </span>
  <span class="p">}</span>
  <span class="nx">ui</span><span class="p">.</span><span class="nx">donePredicting</span><span class="p">();</span> <span class="c1">//在UI上标注完成</span>
<span class="p">}</span>
</code></pre></div><p>了解了迁移学习与网络训练的部分，接下来我们看看怎用手势识别结果来控制物联网设备，这部分代码放在 ui.js 中：</p><div class="highlight"><pre><code class="language-js"><span></span><span class="kr">export</span> <span class="kd">function</span> <span class="nx">predictClass</span><span class="p">(</span><span class="nx">classId</span><span class="p">)</span> <span class="p">{</span>  
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">classId</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">classId</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>   <span class="c1">//对应不同的类别使用不同的参数来调用Restful API控制物联网设备</span>
    <span class="nx">ajax_post</span><span class="p">(</span><span class="s1">'/fpga/api/call/led'</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span> <span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">]);</span> <span class="c1">// 使用post请求，参数的意义依次是LED的设备号，RGB三色的亮度。</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">classId</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
    <span class="nx">ajax_post</span><span class="p">(</span><span class="s1">'/fpga/api/call/led'</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span> <span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]);</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">classId</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
    <span class="nx">ajax_post</span><span class="p">(</span><span class="s1">'/fpga/api/call/led'</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span> <span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">]);</span> 
  <span class="k">else</span> 
    <span class="nx">ajax_post</span><span class="p">(</span><span class="s1">'/fpga/api/call/led'</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span> <span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">]);</span>   
  <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'data-active'</span><span class="p">,</span> <span class="nx">CONTROLS</span><span class="p">[</span><span class="nx">classId</span><span class="p">]);</span> <span class="c1">//标注并显示识别的类型</span>
<span class="p">}</span>
</code></pre></div><p><br></p><p>演示的完整视频可以参见：</p><p><a href="http://link.zhihu.com/?target=https%3A//v.youku.com/v_show/id_XMzcyNDM1MTk0MA%3D%3D.html%3Fspm%3Da2hzp.8244740.0.0" class=" external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043"><span class="invisible">https://</span><span class="visible">v.youku.com/v_show/id_X</span><span class="invisible">MzcyNDM1MTk0MA==.html?spm=a2hzp.8244740.0.0</span><span class="ellipsis"></span></a></p><h2><b>6. 参考资料</b></h2><p><a href="https://zhuanlan.zhihu.com/p/35823261" class="internal" data-za-detail-view-id="1043"><span class="invisible">https://</span><span class="visible">zhuanlan.zhihu.com/p/35</span><span class="invisible">823261</span><span class="ellipsis"></span></a></p><p><a href="http://link.zhihu.com/?target=https%3A//baike.baidu.com/item/%25E5%25AD%25A6%25E4%25B9%25A0%25E8%25BF%2581%25E7%25A7%25BB" class=" external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043"><span class="invisible">https://</span><span class="visible">baike.baidu.com/item/%E</span><span class="invisible">5%AD%A6%E4%B9%A0%E8%BF%81%E7%A7%BB</span><span class="ellipsis"></span></a></p><p><a href="https://zhuanlan.zhihu.com/p/35352154" class="internal" data-za-detail-view-id="1043"><span class="invisible">https://</span><span class="visible">zhuanlan.zhihu.com/p/35</span><span class="invisible">352154</span><span class="ellipsis"></span></a></p><p>TensorFlow.js 入门教程 (6) 迁移学习</p><p><a href="https://zhuanlan.zhihu.com/p/35901025" class="internal" data-za-detail-view-id="1043"><span class="invisible">https://</span><span class="visible">zhuanlan.zhihu.com/p/35</span><span class="invisible">901025</span><span class="ellipsis"></span></a></p><p><a href="http://link.zhihu.com/?target=https%3A//tech.sina.com.cn/roll/2018-07-22/doc-ihfqtahi7611239.shtml" class=" external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043"><span class="invisible">https://</span><span class="visible">tech.sina.com.cn/roll/2</span><span class="invisible">018-07-22/doc-ihfqtahi7611239.shtml</span><span class="ellipsis"></span></a></p><h2><b>作者介绍</b></h2><p><b>李知周</b>，曾任某知名投行大数据科学家，从事基于大数据与机器学习的开发与数据分析工作，构建过基于自然语言处理的交易员通信记录监管系统以及基于日志处理的网络安全系统，拥有 GIAC 网络安全持续监控认证。中国科学院微系统与信息技术研究所博士，发表过多篇基于机器学习的异常检测相关 EI SCI 学术论文，拥有多项国际国内专利，物联网早期创业者与创客，发起了开源物联网项目 Openfpgaduino（<a href="http://link.zhihu.com/?target=https%3A//github.com/OpenFPGAduino/OpenFPGAduino" class=" external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043"><span class="invisible">https://</span><span class="visible">github.com/OpenFPGAduin</span><span class="invisible">o/OpenFPGAduino</span><span class="ellipsis"></span></a>），著有《JavaScript 物联网：架构与数据处理》，致力于通过传播知识创新帮助他人跨越技术鸿沟。</p><p><b>黄劲</b>，清华大学电子工程系硕士。曾在英特尔亚太研发中心担任深度学习工程师，从事 CPU 上深度学习模型的性能优化和低精度推理研究与实现。现在上海云丹网络科技有限公司担任核心开发，从事工业大数据和机器学习应用的搭建与开发。</p></div></div><div class="ContentItem-time">发布于 2018-11-15</div><div class="Post-topicsAndReviewer"><div class="TopicList Post-Topics"><div class="Tag Topic" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;20079475&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/20079475" target="_blank"><div class="Popover"><div id="Popover3-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover3-content">迁移学习 (Transfer Learning)</div></div></a></span></div><div class="Tag Topic" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19559450&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19559450" target="_blank"><div class="Popover"><div id="Popover4-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover4-content">机器学习</div></div></a></span></div><div class="Tag Topic" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19552521&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19552521" target="_blank"><div class="Popover"><div id="Popover5-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover5-content">JavaScript</div></div></a></span></div></div></div><div><div class="Sticky RichContent-actions is-fixed is-bottom" style="width: 1280px; bottom: 0px; left: 289.333px;"><div class="ContentItem-actions" data-za-detail-view-path-module="BottomBar" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;id&quot;:&quot;49970085&quot;}}}"><span><button aria-label="赞同" type="button" class="Button VoteButton VoteButton--up"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--TriangleUp VoteButton-TriangleUp" fill="currentColor" viewBox="0 0 24 24" width="10" height="10"><path d="M2 18.242c0-.326.088-.532.237-.896l7.98-13.203C10.572 3.57 11.086 3 12 3c.915 0 1.429.571 1.784 1.143l7.98 13.203c.15.364.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H3.955c-1.08 0-1.955-.517-1.955-1.9z" fill-rule="evenodd"></path></svg></span>赞同 <!-- -->5</button><button aria-label="反对" type="button" class="Button VoteButton VoteButton--down"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--TriangleDown" fill="currentColor" viewBox="0 0 24 24" width="10" height="10"><path d="M20.044 3H3.956C2.876 3 2 3.517 2 4.9c0 .326.087.533.236.896L10.216 19c.355.571.87 1.143 1.784 1.143s1.429-.572 1.784-1.143l7.98-13.204c.149-.363.236-.57.236-.896 0-1.386-.876-1.9-1.956-1.9z" fill-rule="evenodd"></path></svg></span></button></span><button type="button" class="Button BottomActions-CommentBtn Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Comment Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M10.241 19.313a.97.97 0 0 0-.77.2 7.908 7.908 0 0 1-3.772 1.482.409.409 0 0 1-.38-.637 5.825 5.825 0 0 0 1.11-2.237.605.605 0 0 0-.227-.59A7.935 7.935 0 0 1 3 11.25C3 6.7 7.03 3 12 3s9 3.7 9 8.25-4.373 9.108-10.759 8.063z" fill-rule="evenodd"></path></svg></span>1 条评论</button><div class="Popover ShareMenu"><div class="" id="Popover6-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover6-content"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Share Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M2.931 7.89c-1.067.24-1.275 1.669-.318 2.207l5.277 2.908 8.168-4.776c.25-.127.477.198.273.39L9.05 14.66l.927 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.242c.584-.892-.212-2.029-1.234-1.796L2.93 7.89z" fill-rule="evenodd"></path></svg></span>分享</button></div></div><button type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Star Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M5.515 19.64l.918-5.355-3.89-3.792c-.926-.902-.639-1.784.64-1.97L8.56 7.74l2.404-4.871c.572-1.16 1.5-1.16 2.072 0L15.44 7.74l5.377.782c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.219 1.274-.532 1.82-1.676 1.218L12 18.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z" fill-rule="evenodd"></path></svg></span>收藏</button><div class="Post-ActionMenuButton"><div class="Popover"><div id="Popover7-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover7-content"><button type="button" class="Button Button--plain Button--withIcon Button--iconOnly"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Dots Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M5 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z" fill-rule="evenodd"></path></svg></span></button></div></div></div></div><div data-za-detail-view-path-module="LeftTabBar" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;id&quot;:&quot;49970085&quot;}}}"></div></div><div class="Sticky--holder" style="position: static; top: auto; right: auto; bottom: 0px; left: 0px; display: block; float: none; margin: 0px 0px 10px; height: 53.3333px;"></div></div><div class="PostIndex-Contributes" data-za-detail-view-path-module="ColumnList" data-za-detail-view-path-module_name="文章被以下专栏收录" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:null}}"><h3 class="BlockTitle">文章被以下专栏收录</h3><ul><div class="ContentItem Column-ColumnItem"><div class="ContentItem-main"><div class="ContentItem-image"><a class="ColumnLink" href="https://zhuanlan.zhihu.com/c_207951713"><div class="Popover"><div id="Popover8-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover8-content"><img class="Avatar Avatar--medium Avatar--round" width="40" height="40" src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/v2-e38a8ac8a8d1962ee7859e5165976003_xs.jpg" srcset="https://pic1.zhimg.com/v2-e38a8ac8a8d1962ee7859e5165976003_l.jpg 2x" alt="AI前沿研究"></div></div></a></div><div class="ContentItem-head"><h2 class="ContentItem-title"><a class="ColumnLink ColumnItem-Title" href="https://zhuanlan.zhihu.com/c_207951713"><div class="Popover"><div id="Popover9-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover9-content">AI前沿研究</div></div></a></h2><div class="ContentItem-meta">新智元重点关注人工智能、机器人等前沿领域发展，关注人机融合、人工智能和机器人革命对人类社会与文明进化的影响，领航中国新智能时代。</div></div><div class="ContentItem-extra"><a href="https://zhuanlan.zhihu.com/c_207951713" type="button" class="Button">进入专栏</a></div></div></div></ul></div><div class="Recommendations-Main" style="width: 1269px;"><h3 class="BlockTitle Recommendations-BlockTitle">推荐阅读</h3><ul class="Recommendations-List"><button class="PagingButton PagingButton-Previous" disabled=""><svg class="Zi Zi--ArrowLeft" fill="#d3d3d3" viewBox="0 0 24 24" width="40" height="40"><path d="M14.782 16.78a.737.737 0 0 1-1.052 0L9.218 12.53a.758.758 0 0 1 0-1.063L13.73 7.22a.737.737 0 0 1 1.052 0c.29.294.29.77.001 1.063L11 12l3.782 3.716c.29.294.29.77 0 1.063z" fill-rule="evenodd"></path></svg></button><a href="http://zhuanlan.zhihu.com/p/35345939" class="PostItem"><div><img src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/v2-7713d4a901394c0e0310215f9244b8b0_250x0.jpg" srcset="https://pic4.zhimg.com/v2-7713d4a901394c0e0310215f9244b8b0_qhd.jpg 2x" class="PostItem-TitleImage" alt="在浏览器中进行深度学习：TensorFlow.js (一）基本概念"><h1 class="PostItem-Title">在浏览器中进行深度学习：TensorFlow.js (一）基本概念</h1><div class="PostItem-Footer"><span>Gang Tao</span><span class="PostItem-FooterTitle"></span></div></div></a><a href="http://zhuanlan.zhihu.com/p/35820502" class="PostItem"><div><img src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/v2-f57365f1cf456fa28657b60e4eea0f81_250x0.jpg" srcset="https://pic1.zhimg.com/v2-f57365f1cf456fa28657b60e4eea0f81_qhd.jpg 2x" class="PostItem-TitleImage" alt="在浏览器中进行深度学习：TensorFlow.js (三）更多的基本模型"><h1 class="PostItem-Title">在浏览器中进行深度学习：TensorFlow.js (三）更多的基本模型</h1><div class="PostItem-Footer"><span>Gang Tao</span><span class="PostItem-FooterTitle"></span></div></div></a><a href="http://zhuanlan.zhihu.com/p/35277720" class="PostItem"><div><img src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/v2-7dbc362936958c8c8c10664ec20c30ee_250x0.jpg" srcset="https://pic3.zhimg.com/v2-7dbc362936958c8c8c10664ec20c30ee_qhd.jpg 2x" class="PostItem-TitleImage" alt="TensorFlow.js、迁移学习与AI产品创新之道"><h1 class="PostItem-Title">TensorFlow.js、迁移学习与AI产品创新之道</h1><div class="PostItem-Footer"><span>shadow.Chi</span><span class="PostItem-FooterTitle"></span></div></div></a><a href="http://zhuanlan.zhihu.com/p/45200767" class="PostItem"><div><h1 class="PostItem-Title">Tensorflow中的损失函数</h1><p class="PostItem-Summary">3. Tensorflow中的损失函数3.1 简介损失函数（loss function、cost function）是神经网络搭建之后需要首先考虑的。因为在训练网络，即反向传播过程中，需要有一个监督信号去更新参数。最常…</p><div class="PostItem-Footer"><span>JimmyYoung</span><span class="PostItem-FooterTitle"></span></div></div></a><button class="PagingButton PagingButton-Next"><svg class="Zi Zi--ArrowRight" fill="#d3d3d3" viewBox="0 0 24 24" width="40" height="40"><path d="M9.218 16.78a.737.737 0 0 0 1.052 0l4.512-4.249a.758.758 0 0 0 0-1.063L10.27 7.22a.737.737 0 0 0-1.052 0 .759.759 0 0 0-.001 1.063L13 12l-3.782 3.716a.758.758 0 0 0 0 1.063z" fill-rule="evenodd"></path></svg></button></ul></div><div class="Comments-container" data-za-detail-view-path-module="CommentList" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:null}}"><div class="CommentsV2 CommentsV2--withEditor CommentsV2-withPagination"><div class="Topbar CommentTopbar"><div class="Topbar-title"><h2 class="CommentTopbar-title">1 条评论</h2></div><div class="Topbar-options"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel"><span style="display: inline-flex; align-items: center;">​<svg class="Zi Zi--Switch Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M13.004 7V4.232c0-.405.35-.733.781-.733.183 0 .36.06.501.17l6.437 5.033c.331.26.376.722.1 1.033a.803.803 0 0 1-.601.264H2.75a.75.75 0 0 1-.75-.75V7.75A.75.75 0 0 1 2.75 7h10.254zm-1.997 9.999v2.768c0 .405-.35.733-.782.733a.814.814 0 0 1-.5-.17l-6.437-5.034a.702.702 0 0 1-.1-1.032.803.803 0 0 1 .6-.264H21.25a.75.75 0 0 1 .75.75v1.499a.75.75 0 0 1-.75.75H11.007z" fill-rule="evenodd"></path></svg></span>切换为时间排序</button></div></div><div class="CommentsV2-footer CommentEditorV2--normal"><div class="CommentEditorV2-inputWrap"><div class="CommentEditorV2-input Input-wrapper Input-wrapper--spread Input-wrapper--large Input-wrapper--noPadding"><div class="Input Editable"><div class="Dropzone RichText ztext" style="min-height: 198px;"><div class="DraftEditor-root"><div class="public-DraftEditorPlaceholder-root"><div class="public-DraftEditorPlaceholder-inner" id="placeholder-4m35j" style="white-space: pre-wrap;">写下你的评论...</div></div><div class="DraftEditor-editorContainer"><div aria-describedby="placeholder-4m35j" class="notranslate public-DraftEditor-content" contenteditable="true" role="textbox" spellcheck="true" tabindex="0" style="outline: none; -webkit-user-select: text; white-space: pre-wrap; word-wrap: break-word;"><div data-contents="true"><div class="Editable-unstyled" data-block="true" data-editor="4m35j" data-offset-key="a56l4-0-0"><div data-offset-key="a56l4-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="a56l4-0-0"><br data-text="true"></span></div></div></div></div></div></div></div><input multiple="" type="file" accept="image/jpg,image/jpeg,image/png,image/gif" style="display: none;"><div></div></div></div><div class="CommentEditorV2-inputUpload"><div class="CommentEditorV2-popoverWrap"><div class="Popover CommentEditorV2-inputUpLoad-Icon"><button aria-label="插入表情" data-tooltip="插入表情" data-tooltip-position="bottom" data-tooltip-will-hide-on-click="true" id="Popover10-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover10-content" type="button" class="Button Editable-control Button--plain"><svg class="Zi Zi--Emotion" fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M7.523 13.5h8.954c-.228 2.47-2.145 4-4.477 4-2.332 0-4.25-1.53-4.477-4zM12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm0-1.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15zm-3-8a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm6 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"></path></svg></button></div></div></div></div><button disabled="" type="button" class="Button CommentEditorV2-singleButton Button--primary Button--blue">发布</button></div><div><div class="CommentListV2"><ul class="NestComment"><li class="NestComment--rootCommentNoChild"><div class="CommentItemV2"><div><div class="CommentItemV2-meta"><span class="UserLink CommentItemV2-avatar"><div class="Popover"><div id="Popover13-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover13-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/gao-jing-ya-20"><img class="Avatar UserLink-avatar" width="24" height="24" src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/da8e974dc_s.jpg" srcset="https://pic4.zhimg.com/da8e974dc_xs.jpg 2x" alt="高婧雅"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/gao-jing-ya-20">高婧雅</a></span><span class="CommentItemV2-time">2 天前</span></div><div class="CommentItemV2-metaSibling"><div class="CommentRichText"><div class="RichText ztext">未来是智能的，也是多端的</div></div><div class="CommentItemV2-footer"><button type="button" class="Button CommentItemV2-likeBtn Button--plain"><span style="display: inline-flex; align-items: center;">​<svg class="Zi Zi--Like" fill="currentColor" viewBox="0 0 24 24" width="16" height="16" style="margin-right: 5px;"><path d="M14.445 9h5.387s2.997.154 1.95 3.669c-.168.51-2.346 6.911-2.346 6.911s-.763 1.416-2.86 1.416H8.989c-1.498 0-2.005-.896-1.989-2v-7.998c0-.987.336-2.032 1.114-2.639 4.45-3.773 3.436-4.597 4.45-5.83.985-1.13 3.2-.5 3.037 2.362C15.201 7.397 14.445 9 14.445 9zM3 9h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1z" fill-rule="evenodd"></path></svg></span>赞</button><button type="button" class="Button CommentItemV2-hoverBtn Button--plain"><span style="display: inline-flex; align-items: center;">​<svg class="Zi Zi--Reply" fill="currentColor" viewBox="0 0 24 24" width="16" height="16" style="margin-right: 5px;"><path d="M22.959 17.22c-1.686-3.552-5.128-8.062-11.636-8.65-.539-.053-1.376-.436-1.376-1.561V4.678c0-.521-.635-.915-1.116-.521L1.469 10.67a1.506 1.506 0 0 0-.1 2.08s6.99 6.818 7.443 7.114c.453.295 1.136.124 1.135-.501V17a1.525 1.525 0 0 1 1.532-1.466c1.186-.139 7.597-.077 10.33 2.396 0 0 .396.257.536.257.892 0 .614-.967.614-.967z" fill-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button CommentItemV2-hoverBtn Button--plain"><span style="display: inline-flex; align-items: center;">​<svg class="Zi Zi--Like" fill="currentColor" viewBox="0 0 24 24" width="16" height="16" style="transform: rotate(180deg); margin-right: 5px;"><path d="M14.445 9h5.387s2.997.154 1.95 3.669c-.168.51-2.346 6.911-2.346 6.911s-.763 1.416-2.86 1.416H8.989c-1.498 0-2.005-.896-1.989-2v-7.998c0-.987.336-2.032 1.114-2.639 4.45-3.773 3.436-4.597 4.45-5.83.985-1.13 3.2-.5 3.037 2.362C15.201 7.397 14.445 9 14.445 9zM3 9h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1z" fill-rule="evenodd"></path></svg></span>踩</button><button type="button" class="Button CommentItemV2-hoverBtn Button--plain"><span style="display: inline-flex; align-items: center;">​<svg class="Zi Zi--Report" fill="currentColor" viewBox="0 0 24 24" width="16" height="16" style="margin-right: 5px;"><path d="M19.947 3.129c-.633.136-3.927.639-5.697.385-3.133-.45-4.776-2.54-9.949-.888-.997.413-1.277 1.038-1.277 2.019L3 20.808c0 .3.101.54.304.718a.97.97 0 0 0 .73.304c.275 0 .519-.102.73-.304.202-.179.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V3.964c0-.599-.42-.972-1.053-.835z" fill-rule="evenodd"></path></svg></span>举报</button></div></div></div></div></li></ul></div><span></span></div></div></div></article></div></main><div class="CornerButtons"><div class="CornerAnimayedFlex CornerAnimayedFlex--hidden"><button data-tooltip="回到顶部" data-tooltip-position="left" data-tooltip-will-hide-on-click="true" aria-label="回到顶部" type="button" class="Button CornerButton Button--plain"><svg class="Zi Zi--BackToTop" title="回到顶部" fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M16.036 19.59a1 1 0 0 1-.997.995H9.032a.996.996 0 0 1-.997-.996v-7.005H5.03c-1.1 0-1.36-.633-.578-1.416L11.33 4.29a1.003 1.003 0 0 1 1.412 0l6.878 6.88c.782.78.523 1.415-.58 1.415h-3.004v7.005z"></path></svg></button></div></div></div></div><script id="js-initialData" type="text/json">{"initialState":{"common":{"ask":{}},"privacy":{"showPrivacy":false},"loading":{"global":{"count":0},"local":{"env\u002FgetIpinfo\u002F":false,"article\u002Fget\u002F":false,"brand\u002FgetUrl\u002F":false}},"entities":{"users":{"xin-zhi-yuan-88-3":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f10777f9d6ff1f876b0a21248699b49d_{size}.jpg","gender":-1,"type":"people","name":"新智元","url":"http:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Fpeople\u002F59ee4d25ff7a093ad6590f32bc9e4361","badge":[{"topics":[],"type":"identity","description":"已认证的官方帐号"}],"userType":"organization","isAdvertiser":false,"avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f10777f9d6ff1f876b0a21248699b49d_is.jpg","isFollowing":false,"isOrg":true,"headline":"人工智能","urlToken":"xin-zhi-yuan-88-3","id":"59ee4d25ff7a093ad6590f32bc9e4361"}},"questions":{},"answers":{},"articles":{"49970085":{"trackUrl":[],"reviewers":[],"topics":[{"introduction":"迁移学习相关话题","avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-faf59845707c963d66d7c23172b1ff0d_is.jpg","name":"迁移学习 (Transfer Learning)","url":"http:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F20079475","type":"topic","excerpt":"迁移学习相关话题","id":"20079475"},{"introduction":"机器学习(Machine Learning, ML)是一门多领域交叉学科，涉及概率论、统计学、逼近论、凸分析、算法复杂度理论等多门学科。专门研究计算机怎样模拟或实现人类的学习行为，以获取新的知识或技能，重新组织已有的知识结构使之不断改善自身的性能。它是人工智能的核心，是使计算机具有智能的根本途径，其应用遍及人工智能的各个领域，它主要使用归纳、综合而不是演绎。","avatarUrl":"https:\u002F\u002Fpic2.zhimg.com\u002Fd3dd87a0feae0a3db82973157eee89c0_is.jpg","name":"机器学习","url":"http:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19559450","type":"topic","excerpt":"机器学习(Machine Learning, ML)是一门多领域交叉学科，涉及概率论、统计学、逼近论、凸分析、算法复杂度理论等多门学科。专门研究计算机怎样模拟或实现人类的学习行为，以获取新的知识或技能，重新组织已有的知识结构使之不断改善自身的性能。它是人工智能的核心，是使计算机具有智能的根本途径，其应用遍及人工智能的各个领域，它主要使用归纳、综合而不是演绎。","id":"19559450"},{"introduction":"JavaScript一种直译式脚本语言，是一种动态类型、弱类型、基于原型的语言，内置支持类型。它的解释器被称为JavaScript引擎，为浏览器的一部分，广泛用于客户端的脚本语言，最早是在HTML（标准通用标记语言下的一个应用）网页上使用，用来给HTML网页增加动态功能。在1995年时，由Netscape公司的Brendan Eich，在网景导航者浏览器上首次设计实现而成。因为Netscape与Sun合作，Netscape管理层希望它外观看起来像Java，因此取名为JavaScript。但实际上它的语法风格与Self及Scheme较为接近。为了取得技术优势，微软推出了JScript，CEnvi推出ScriptEase，与JavaScript同样可在浏览器上运行。为了统一规格，因为JavaScript兼容于ECMA标准，因此也称为ECMAScript。","avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002F8993062b6b00237084be65f96b8fd720_is.jpg","name":"JavaScript","url":"http:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19552521","type":"topic","excerpt":"JavaScript一种直译式脚本语言，是一种动态类型、弱类型、基于原型的语言，内置支持类型。它的解释器被称为JavaScript引擎，为浏览器的一部分，广泛用于客户端的脚本语言，最早是在HTML（标准通用标记语言下的一个应用）网页上使用，用来给HTML网页增加动态功能。在1995年时，由Netscape公司的Brendan Eich，在网景导航者浏览器上首次设计实现而成。因为Netscape与Sun合作，Netscape管理层希望它外观看起来像Java，因此取名为Jav…","id":"19552521"}],"excerpt":"作者：李知周2018 年对于 JavaScript 的程序员来说注定是一个不平凡的一年，比如年初 Google 将其基于 JavaScript 技术的机器学习库 machinelearning.js 正式更名为 TensorFlow.js，这也意味着 Google 将 JavaScript 语言升级为其人工智能战略的重要环节。…","adminClosedComment":false,"canTip":false,"contributions":[{"column":{"acceptSubmission":true,"description":"新智元重点关注人工智能、机器人等前沿领域发展，关注人机融合、人工智能和机器人革命对人类社会与文明进化的影响，领航中国新智能时代。","title":"AI前沿研究","url":"http:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Fcolumns\u002Fc_207951713","commentPermission":"all","author":{"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f10777f9d6ff1f876b0a21248699b49d_{size}.jpg","gender":-1,"type":"people","name":"新智元","url":"http:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Fpeople\u002F59ee4d25ff7a093ad6590f32bc9e4361","badge":[{"type":"identity","description":"已认证的官方帐号"}],"userType":"organization","isAdvertiser":false,"avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f10777f9d6ff1f876b0a21248699b49d_is.jpg","isOrg":true,"headline":"人工智能","urlToken":"xin-zhi-yuan-88-3","id":"59ee4d25ff7a093ad6590f32bc9e4361"},"updated":1542199555,"imageUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-e38a8ac8a8d1962ee7859e5165976003_l.jpg","isFollowing":false,"type":"column","id":"c_207951713","articlesCount":29},"state":"accepted","id":2495577}],"id":49970085,"commercialInfo":{"isCommercial":false},"voteupCount":5,"upvotedFollowees":[],"author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f10777f9d6ff1f876b0a21248699b49d_{size}.jpg","gender":-1,"type":"people","name":"新智元","url":"http:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Fpeople\u002F59ee4d25ff7a093ad6590f32bc9e4361","badge":[{"topics":[],"type":"identity","description":"已认证的官方帐号"}],"userType":"organization","isAdvertiser":false,"avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f10777f9d6ff1f876b0a21248699b49d_is.jpg","isFollowing":false,"isOrg":true,"headline":"人工智能","urlToken":"xin-zhi-yuan-88-3","id":"59ee4d25ff7a093ad6590f32bc9e4361"},"imageWidth":1500,"content":"\u003Cp\u003E作者：李知周\u003C\u002Fp\u003E\u003Cblockquote\u003E2018 年对于 JavaScript 的程序员来说注定是一个不平凡的一年，比如年初 Google 将其基于 JavaScript 技术的机器学习库 machinelearning.js 正式更名为 TensorFlow.js，这也意味着 Google 将 JavaScript 语言升级为其人工智能战略的重要环节。从此 JavaScript 有了自己的机器学习框架，赶上了人工智能的风口，再次华丽转身，而迁移学习能用 JavaScript 实现了。接下来就让笔者带着大家一起学习如何在物联网环境中应用基于 JavaScript 的机器学习技术。\u003C\u002Fblockquote\u003E\u003Ch2\u003E\u003Cb\u003E1. TensorFlow.js\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp\u003ETensorFlow.js 是一个开源的基于 WebGL 硬件加速技术的 JavaScript 库，用于训练和部署机器学习模型，其设计理念借鉴于目前广受欢迎的 TensorFlow 深度学习框架。谷歌推出的第一个基于 TensorFlow 的前端深度学习框架是 deeplearning.js 其使用 TypeScript 语言开发， 2018 年 Google 将其重新命名为 TensorFlow.js Core 并在 TypeScript 内核的基础上增加了 JavaScript 的接口以及 TensorFlow 模型导入等工程合成了 TensorFlow.js 深度学习框架，基于浏览器和 Javascript 的 Tensorflow.js 相较与其他深度学习框架具有以下的几个优点。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E1）不用安装驱动器和软件，通过链接即可分享程序\u003C\u002Fb\u003E，随着互联的普及浏览器是目前世界上安装最大的软件工具，现在几乎任何用户设备都会安装有浏览器并能运行 JavaScript 语言。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E2）网页应用交互性更强\u003C\u002Fb\u003E，在互联网时代，网页设计已经成为界面交互设计的标准，互联网公司开源了大量设计美观使用方便的 JavaScript 交互式设计，利用这些交互设计可以很方便得实现人与深度学习算法的交互。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E3）有直接访问 GPS 定位、摄像头、麦克风、加速度计、陀螺等传感器，以及各种其他设备的标准 API。\u003C\u002Fb\u003E随着手机的普及以及手机浏览器标准的完善，为作为浏览器端的 JavaScript 语言提供了跨平台的标准 API，大大方便了程序包括深度学习程序的开发。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E4）安全性，\u003C\u002Fb\u003E因为数据都是保存在客户端的，训练的数据无须上传到服务器端。由于基于 JavaScript 的深度学习完全运行于客户端浏览器，无须服务器端干预，训练的数据（比如声音图像）都可以直接通过 JavaScript 的 API 获得，并利用浏览器的 WebGL 环境进行运算，完全不需要上传数据，保证了数据的安全，避免了隐私的泄漏。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Cp\u003ETensorFlow.js 作为深度学习框架体和 TensorFlow 一样在底层通过提供基于 Tensor 的数据流图计算支持来完成深度学习的训练。与此同时，TensorFlow.js 同样提供了类似 Keras 的神经网络高层抽象，以方便使用者能够快速、高效地开发神经网络层级模型，而无须陷入到繁杂的底层计算图中。首先看一下 TensorFlow.js 中是如何进行 Tensor 数据流图计算的例子：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Etensor\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E([\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]);\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 创建一个张量 tensor\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Ea\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Esquare\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E().\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eprint\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F 对 tensor 应用 square 算子，然后打印结果\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E接着我们再来看一个比较复杂的例子：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ef\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\t\u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Etidy\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(()=&gt;{\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F由于TensorFlow.js使用WebGL环境，为了屏蔽GPU内存管理的细节，TensorFlow.js提供了tf.tidy函数，自动实现GPU内存的回收\u003C\u002Fspan\u003E\n\t\t\u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ey\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Esquare\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F对 x使用square算子\u003C\u002Fspan\u003E\n\t\t\u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ez\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Emul\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F对，x与y使用mul算子\u003C\u002Fspan\u003E\n\t\t\u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ez\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 最终得到的结果是z=x * x^2\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E上面这段程序所代表的 tensor 计算流图如下所示：\u003C\u002Fp\u003E\u003Cfigure\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e0ca013975ca84dc261c9ca4d53e5f41_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"206\" data-rawheight=\"331\" class=\"content_image\" width=\"206\"\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg%20xmlns='http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg'%20width='206'%20height='331'&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"206\" data-rawheight=\"331\" class=\"content_image lazy\" width=\"206\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e0ca013975ca84dc261c9ca4d53e5f41_b.jpg\"\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E有了对 TensorFlow.js 的基本理解，接着再来看看使用高级的神经网络层 API 的 JavaScript 例子：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ehtml\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ehead\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c\"\u003E&lt;!--\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003E从CDN加载TensorFlow\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ejs的核心js文件\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E--&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Escript\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Esrc\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\"https:\u002F\u002Fcdn.jsdelivr.net\u002Fnpm\u002F@tensorflow\u002Ftfjs\"\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E\u002Fscript&gt; \u003C\u002Fspan\u003E\n    \u003Cspan class=\"c\"\u003E&lt;!--\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EPlace\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eyour\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ecode\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ein\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ethe\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Escript\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etag\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ebelow\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EYou\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ecan\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ealso\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Euse\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ean\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eexternal\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ejs\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Efile\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E--&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E         \n\u003Cspan class=\"c1\"\u003E\u002F\u002F 使用TensorFlow.js的sequential API来定义神经网络，这里我们定义最简单的神经网络，\u003C\u002Fspan\u003E\n\u003Cspan class=\"c1\"\u003E\u002F\u002F线性回归模型  \u003C\u002Fspan\u003E\n\u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Emodel\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Esequential\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E      \n\u003Cspan class=\"c1\"\u003E\u002F\u002F 创建输入为一维的包含一个神经元的线性神经网络层\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Emodel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eadd\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elayers\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Edense\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eunits\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EinputShape\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]}));\u003C\u002Fspan\u003E      \n\u003Cspan class=\"c1\"\u003E\u002F\u002F 创建训练误差函数(均方误差)，以及优化算法(随机梯度下降)\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Emodel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ecompile\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eloss\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'meanSquaredError'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eoptimizer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'sgd'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E         \n\u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Exs\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Etensor2d\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E([\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]);\u003C\u002Fspan\u003E     \u003Cspan class=\"c1\"\u003E\u002F\u002F创建训练样本x  \u003C\u002Fspan\u003E\n\u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eys\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Etensor2d\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E([\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E5\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E7\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]);\u003C\u002Fspan\u003E     \u003Cspan class=\"c1\"\u003E\u002F\u002F创建训练标签y     \u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Emodel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Efit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Exs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eys\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E).\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ethen\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E        \u003Cspan class=\"c1\"\u003E\u002F\u002F 使用训练样本训练网络      \u003C\u002Fspan\u003E\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 当训练完成后，使用网络对新数据做预测        \u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Emodel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Epredict\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Etensor2d\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E([\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E5\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E])).\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eprint\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E    \n\u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E    \n\u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E\u002Fscript&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E\u002Fhead&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ebody\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E\u002Fbody&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E\u002Fhtml&gt;\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E2. JavaScript 物联网\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp\u003E网络中，HTTP 协议与 JSON 数据格式，特别是 RESTful API 无疑具有支配地位，各种云服务、数据传输都基于这些协议来进行。而 JavaScript 为 HTTP 和 JSON 提供了最好的支持，当物联网系统采用 JavaScript 开发时，天然对接了互联网上海量的云服务与云资源，包括云存储、云计算等一系列资源都可被方便调用，就像你在手机端访问各种云服务一样。微服务构架在服务器端的兴起，让 JavaScript 编写的每一个物联网节点都可以作为一个\u003Cb\u003E大系统中的微服务\u003C\u002Fb\u003E，通过 RESTful API 接口提供自己的服务。\u003C\u002Fp\u003E\u003Cp\u003E在设计模式上，JavaScript 的回调与事件循环等\u003Cb\u003E基于事件驱动的编程模型\u003C\u002Fb\u003E非常适合物联网。在物联网环境下，环境在不断变化，物联网节点要不断对环境的变动做出响应，换句话说物联网系统通常是 I\u002FO 密集型的系统，回调与事件循环高效地完成了密集 I\u002FO 操作这项工作，而事件响应式编程相比于多进程和多线程编程在内存的使用上又非常高效，而这又是物联网系统所需要的，通常物联网系统都是资源受限系统，内存与 CPU 的频率都非常有限。物联网节点底层开发中通常采用中断响应模式，在 CPU 中由称为中断控制器的硬件来检查中断信号的出现，并在中断出现后控制 CPU 执行特定程序片段，这一执行模式和 JavaScript 的回调一致，很容易使用 JavaScript 回调机制来实现硬件的中断响应。\u003C\u002Fp\u003E\u003Cp\u003E物联网节点的部署特点决定了其回收维护成本非常高昂甚至是不可接受的。而物联网节点要不断应对新的环境与应用需求，所以在开发中物联网节点的远程部署与更新是非常重要的一个功能。JavaScript 本来就是实现从服务器端向客户端部署的一门语言，其天然就具有在网路上实现远程部署的属性，实现起来就像你用浏览器下载 JavaScript 脚本并运行一样简单。\u003C\u002Fp\u003E\u003Cp\u003EJavaScript 的\u003Cb\u003E热部署\u003C\u002Fb\u003E也是一个比较热门的研究领域，通过热部署，物联网节点可以实现在运行过程中远程添加新功能，远程修正 Bug。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E3. 迁移学习\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp\u003E学习迁移是指一种学习对另一种学习的影响，或习得的经验对完成其他活动的影响。迁移广泛存在于各种知识、技能与社会规范的学习中。由于学习活动总是建立在已有的知识经验之上的，这种利用已有的知识经验不断地获得新知识和技能的过程，可以认为是广义的学习迁移；而新知识技能的获得也不断地使已有的知识经验得到扩充和丰富，这就是我们常说的 “举一反三”“触类旁通”，这个过程也属于\u003Cb\u003E广义的学习迁移\u003C\u002Fb\u003E。\u003C\u002Fp\u003E\u003Cp\u003E而对应到神经网络的学习训练领域，特别是深度学习领域的迁移学习，则是尝试将已经使用大量标注数据样例训练好的模型，通过迁移学习应用到和标注数据样例所不同的领域当中去。举个例子，当我们使用猫狗识别的标注数据训练好一个网络后，通过迁移学习，我们就有可能实现将网络应用到鸡和鸭的识别任务中，实现深度学习模型的举一反三与触类旁通。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E机器学习\u003C\u002Fb\u003E是人工智能的一大类重要方法，也是目前发展最迅速、效果最显著的方法。机器学习解决的是让机器自主地从数据中获取知识，从而应用于新的问题中。迁移学习作为机器学习的一个重要分支，侧重于将已经学习过的知识迁移应用于新的问题中。迁移学习的核心问题是，找到新问题和原问题之间的相似性，才可以顺利地实现知识的迁移。\u003C\u002Fp\u003E\u003Cp\u003E在我们前面的例子中，只有我们找到了猫狗识别与鸡鸭识别的相似性，通过这一相似性才能很好得实现迁移学习。而对应到深度学习领域，迁移学习可以粗略的分为两个大的方向：\u003Cb\u003E输入空间的迁移和特征空间的迁移\u003C\u002Fb\u003E。\u003C\u002Fp\u003E\u003Cp\u003E深度神经网络在结构上拥有很多层次，有输入层、中间层与输出层，当应用迁移学习到深度神经网络上，我们可以发现中间层包含了整个神经网络绝大部分的参数与信息，为了能实现举一反三与触类旁通，减少参数重新训练的代价，应该尽可能保留神经网络中间层的参数结果，因此在深度学习中的实现迁移学习，其目标就落在了输入层与输出层网络。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E对输入层进行迁移学习，就是所谓的输入空间的迁移学习\u003C\u002Fb\u003E，通过改变输入层，将新领域的数据变换为已经学习领域的相似数据，通过原有的剩余网络层完成分类与预测任务。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E而对输出层的迁移学习，就是所谓特征空间的迁移\u003C\u002Fb\u003E，在这一场景下，原有神经网络的特征空间输出被保留、被认为仍然可以应用到新问题上，而输出层被丢弃，通过重新训练网络输出层，实现将整个网络迁移到新问题上。在下面的内容中，我们将看到如何通过特征空间的迁移，实现物联网设备的控制。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E4. 迁移学习在物联网中的应用\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp\u003E物联网的核心是数据的流动，只有数据流动起来才能最大限度发挥物联网的价值。用数据驱动物联网，实现物联网的智能化。而在这个大数据人工智能大行的时代，能够最大限度挖掘数据中的价值的自然是人工智能技术，而\u003Cb\u003E要想在物联网中充分利用人工智能技术，迁移学习是其中的关键与枢纽\u003C\u002Fb\u003E。\u003C\u002Fp\u003E\u003Cp\u003E在物联网场景中，通常我们遇到的应用问题\u003Cb\u003E一是计算资源的限制，二是网络传输的不稳定与低带宽。\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E对于物联网来讲，其中的设备多是嵌入式设备，其 CPU 通常都是计算能力非常弱的，基本没有可能进行基本的神经网络训练计算。而目前流行的基于大数据与云计算环境的人工智能技术，通常则需要良好的网络连接和强大的带宽保证。在物联网环境连接的有效性都不太容易保证，更难实现高带宽的传输了。\u003C\u002Fp\u003E\u003Cp\u003E为了在物联网中应用人工智能技术，我们必须突破现有技术框架，创造性地解决物联网中的人工智能问题。而迁移学习正是解决这一问题的一把钥匙。利用迁移学习，我们可以使用现有大数据人工智能技术的成果，将现有的深度学习模型作为迁移的基础，这样我们等于站在巨人的肩膀上，所需消耗的网络带宽仅仅是传输模型参数，而无须传输海量数据。\u003C\u002Fp\u003E\u003Cp\u003E同时在物联网场景下，我们将已经训练好的模型做迁移学习，可以大大降低网络训练的计算量，在迁移学习过程中，我们固定了神经网络中复杂的非线性部分，而去学习一些线性的参数部分，这可以大大降低对物联网设备的计算能力的要求。\u003C\u002Fp\u003E\u003Cp\u003E最后通过使用物联网采集的数据对模型进行迁移，使得模型能够很好匹配物联网环境中当前的应用场景，并且避免了将数据传回云端的带宽需求。对于一些特殊的物联网应用场景，这一模式必不可少。\u003C\u002Fp\u003E\u003Cp\u003E比如在安防以及工业互联网这样的物联网应用中，物联网的信息安全是一个必须的选项。整个物联网不和互联网相连而同时又没有足够的计算资源用于网络训练，如果在物联网节点上实现迁移学习，直接在节点上实现数据处理，既减少了物联网设备的响应时间又能够避免数据在公网上传输造成的数据的泄漏与攻击威胁。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E5. Openfpgaduino 物联网迁移学习之手势识别控制\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp\u003E在文章的最后，笔者就以自己设计的 Openfpgaduino 物联网网关为例，利用 TensorFlow.js 实现迁移学习，并结合手势的识别来完成物联网设备的控制。手势识别的完整代码放在了 GitHub 上，完整的路径如下：\u003Ca href=\"http:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgithub.com\u002FOpenFPGAduino\u002Fmachinelearning\u002Ftree\u002Fmaster\u002Ftensorflow.js\u002Fweb\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Egithub.com\u002FOpenFPGAduin\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003Eo\u002Fmachinelearning\u002Ftree\u002Fmaster\u002Ftensorflow.js\u002Fweb\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E。\u003C\u002Fp\u003E\u003Cp\u003E为了方便读者理解这个程序，让我们一起来看一下程序的核心部分：\u003C\u002Fp\u003E\u003Cp\u003E首先是最重要的 index.js 文件：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"kr\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eas\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'@tensorflow\u002Ftfjs'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E  \u003Cspan class=\"c1\"\u003E\u002F\u002F导入tensorflow.js的JavaScript包\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"kr\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EControllerDataset\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'.\u002Fcontroller_dataset'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F导入ControllerDataset，存储用于进行迁移学习的数据例子\u003C\u002Fspan\u003E\n\u003Cspan class=\"kr\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eas\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eui\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'.\u002Fui'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F导入UI控制的一些辅助程序\u003C\u002Fspan\u003E\n\u003Cspan class=\"kr\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EWebcam\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'.\u002Fwebcam'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F导入webcam用于控制摄像头捕捉手势数据\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 定义需要识别的图像类别数量，这里我们定义了上下左右四个类别\u003C\u002Fspan\u003E\n\u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ENUM_CLASSES\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 创建Webcam对象，在webcam.js中实现了将网页中获取的以webcam为名字的文档对象转换为可以被tensorflow.js识别和使用的张量（Tensors），名为webcam的文档对象其实是一个html的video tag，在这个tag中存储了当前摄像头捕捉到的图像\u003C\u002Fspan\u003E\n\u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ewebcam\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EWebcam\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003Edocument\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EgetElementById\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E'webcam'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E));\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 创建用于存储迁移学习所需要的训练数据集\u003C\u002Fspan\u003E\n\u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EcontrollerDataset\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EControllerDataset\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003ENUM_CLASSES\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"kd\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Emobilenet\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F声明用于存储迁移学习所需神经网络的固定部分\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Emodel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F声明用于存储迁移学习所需神经网络的可训练部分\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 加载著名的mobilenet图片识别神经网络，这一神经网络在保证识别精度的前提下，大大减少了神经网络的规模与数据量。在迁移学习的例子中将使用其中的卷积网络部分作为迁移学习的固定部分\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EloadMobilenet\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E   \u003Cspan class=\"c1\"\u003E\u002F\u002FJavaScript异步函数\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Emobilenet\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EloadModel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F异步等待模型加载\u003C\u002Fspan\u003E\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F加载模型的数据文件model.json    'https:\u002F\u002Fstorage.googleapis.com\u002Ftfjs-models\u002Ftfjs\u002Fmobilenet_v1_0.25_224\u002Fmodel.json');\u003C\u002Fspan\u003E\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F 导出mobilenet 网络中间的卷积层输出\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Elayer\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Emobilenet\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EgetLayer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E'conv_pw_13_relu'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F 使用导出的卷积层创建迁移学习神经网络的固定部分\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Emodel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Einputs\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Emobilenet\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Einputs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eoutputs\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Elayer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eoutput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 当我们在UI上按下按钮后，摄像头的图像将被采集下来，并根据我们按的按钮标进行标注，我们一共要识别上下左右四种手势，因此对应了0，1，2，3四种标注\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Eui\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EsetExampleHandler\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elabel\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Etidy\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F使用tensorflow.js上下文环境，做好GPU内存的管理\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eimg\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ewebcam\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ecapture\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F从摄像头获取图片\u003C\u002Fspan\u003E\n\u003Cspan class=\"c1\"\u003E\u002F\u002F首先使用mobilenet对图像进行处理，获得卷积层输出的特征，然后再与图像标注一起添加到训练数据集中去。\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003EcontrollerDataset\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EaddExample\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Emobilenet\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Epredict\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eimg\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E),\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Elabel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F 将采用到的图像放到响应标注的图片框中做数据展示\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Eui\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EdrawThumb\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eimg\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Elabel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 配置，并训练分类器\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etrain\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EcontrollerDataset\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Exs\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Enull\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E  \u003Cspan class=\"c1\"\u003E\u002F\u002F如果还没有训练数据，则提示添加数据\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003EError\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E'Add some examples before training!'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F 创建一个2层的全联接网络。这里我们创建了新的网络，而不是在mobilenet里添加层，这样保证了mobilenet在整个训练过程中权重参数是固定不变的不受训练影响，而只训练新创建的2层全联接网络的权重参数\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Emodel\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Esequential\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E  \u003Cspan class=\"c1\"\u003E\u002F\u002F使用tensorflow.js创建神经网络模型\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Elayers\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F定义每个神经网络层\u003C\u002Fspan\u003E\n      \u003Cspan class=\"c1\"\u003E\u002F\u002F 创建扁平化层，这样层的功能是将输入的张量也就是mobilenet卷积层的输出扁平化为一个矢量。从技术角度来讲，这一层其实就是张量的一次变形，并没有任何计算以及网络权重参数\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elayers\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eflatten\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EinputShape\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E7\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E7\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E256\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]}),\u003C\u002Fspan\u003E\n      \u003Cspan class=\"c1\"\u003E\u002F\u002F 网络第一层\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elayers\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Edense\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nx\"\u003Eunits\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eui\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EgetDenseUnits\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(),\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F定义神经元个数\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nx\"\u003Eactivation\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'relu'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F定义激活函数为relu\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nx\"\u003EkernelInitializer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'varianceScaling'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F定义网络权重的初始化函数，使用varianceScaling来进行权重初始化\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nx\"\u003EuseBias\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Etrue\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 网络带有偏置权重\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E}),\u003C\u002Fspan\u003E\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F 网络第二层。神经元个数等于我们要输出的类别个数\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elayers\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Edense\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nx\"\u003Eunits\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ENUM_CLASSES\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 定义神经元个数\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nx\"\u003EkernelInitializer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'varianceScaling'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nx\"\u003EuseBias\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Efalse\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E  \u003Cspan class=\"c1\"\u003E\u002F\u002F不使用配置权重\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nx\"\u003Eactivation\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'softmax'\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F定义激活函数为softmax\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 创建优化器，用于驱动神经网络模型的训练。这里使用了基于自适应动量的参数优化算法，学习算法的学习率在网页上设置\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eoptimizer\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Etrain\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eadam\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eui\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EgetLearningRate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E());\u003C\u002Fspan\u003E\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F 这里使用了categoricalCrossentropy 作为优化目标的损失函数。这一损失函数度量了我们的预测目标与实际测量值的概率分布间的差异，比如对于上面的四类分类器，模型在训练中可能会输出，向上手势概率是60%，向下手势概率是20%，向右手势概率是10%，向左手势概率是10%，而我们标签会是向上概率100%，其他0%，计算这两个分布的交叉熵就是目标的损失函数\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Emodel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ecompile\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eoptimizer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eoptimizer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eloss\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'categoricalCrossentropy'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F这里将每次处理批次的大小设置为整个训练集的大小的一个比例，应为训练集的数量是不过定的，这样我们可以获得一个自适应的训练批次大小\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EbatchSize\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nb\"\u003EMath\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Efloor\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EcontrollerDataset\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Exs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eshape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eui\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EgetBatchSizeFraction\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E());\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EbatchSize\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003EError\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F如果还没有训练数据，抛出异常\u003C\u002Fspan\u003E\n        \u003Cspan class=\"sb\"\u003E`Batch size is 0 or NaN. Please choose a non-zero fraction.`\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F 开始训练模型，Model.fit()会自动为我们随机打乱训练数据   model.fit(controllerDataset.xs, controllerDataset.ys, {\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003EbatchSize\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E                \u003Cspan class=\"c1\"\u003E\u002F\u002F训练批次大小\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Eepochs\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eui\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EgetEpochs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(),\u003C\u002Fspan\u003E    \u003Cspan class=\"c1\"\u003E\u002F\u002F训练的阶段数，也就是在一组数据上重复训练几次\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Ecallbacks\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E               \u003Cspan class=\"c1\"\u003E\u002F\u002F训练批次完成后的异步回调函数\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003EonBatchEnd\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ebatch\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Elogs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E   \n        \u003Cspan class=\"nx\"\u003Eui\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EtrainStatus\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E'Loss: '\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Elogs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eloss\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EtoFixed\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E5\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E));\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F打印最后的损失函数度量\u003C\u002Fspan\u003E\n       \u003Cspan class=\"c1\"\u003E\u002F\u002F等待下一个能够用于tensorflow.js计算的窗口，由于JavaScript是前端控制语言，\u003C\u002Fspan\u003E\n\u003Cspan class=\"c1\"\u003E\u002F\u002F长时间的程序运行会导致UI界面停止响应，需要交替做计算与UI展示\u003C\u002Fspan\u003E\n \u003Cspan class=\"nx\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EnextFrame\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E        \n      \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"kd\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EisPredicting\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Efalse\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F标识模型是在训练还是在预测\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nx\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Epredict\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E  \u003Cspan class=\"c1\"\u003E\u002F\u002F进行手势识别预测\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Eui\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EisPredicting\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E        \u003Cspan class=\"c1\"\u003E\u002F\u002F将Web设置为预测状态\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Ewhile\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EisPredicting\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EpredictedClass\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Etidy\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eimg\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ewebcam\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ecapture\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F获取webcam的图像\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"c1\"\u003E\u002F\u002F 使用mobilenet网络进行第一步预测, 获取mobilenet网络的卷积层激活函数的输出.\u003C\u002Fspan\u003E\n      \u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eactivation\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Emobilenet\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Epredict\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eimg\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"c1\"\u003E\u002F\u002F 使用新训练的迁移层对网络进行训练，使用mobilenet作为输入\u003C\u002Fspan\u003E\n      \u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Epredictions\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Emodel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Epredict\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eactivation\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"c1\"\u003E\u002F\u002F 返回预测的手势中概率最大的那一个。对应来说就是网络识别后认为最可能的手势。\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Epredictions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eas1D\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E().\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EargMax\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"kr\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EclassId\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EpredictedClass\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E())[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E];\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F获取预测类别\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003EpredictedClass\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Edispose\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E  \u003Cspan class=\"c1\"\u003E\u002F\u002F释放用于预测的GPU资源\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"nx\"\u003Eui\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EpredictClass\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclassId\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E   \u003Cspan class=\"c1\"\u003E\u002F\u002F在UI上显示预测类别\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EnextFrame\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E      \u003Cspan class=\"c1\"\u003E\u002F\u002F等待下一个能够用于tensorflow.js计算的窗口 \u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Eui\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EdonePredicting\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F在UI上标注完成\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E了解了迁移学习与网络训练的部分，接下来我们看看怎用手势识别结果来控制物联网设备，这部分代码放在 ui.js 中：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"kr\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EpredictClass\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclassId\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E  \n  \u003Cspan class=\"nx\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclassId\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclassId\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E   \u003Cspan class=\"c1\"\u003E\u002F\u002F对应不同的类别使用不同的参数来调用Restful API控制物联网设备\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Eajax_post\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E'\u002Ffpga\u002Fapi\u002Fcall\u002Fled'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E255\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E255\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E255\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]);\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 使用post请求，参数的意义依次是LED的设备号，RGB三色的亮度。\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclassId\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Eajax_post\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E'\u002Ffpga\u002Fapi\u002Fcall\u002Fled'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E255\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclassId\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Eajax_post\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E'\u002Ffpga\u002Fapi\u002Fcall\u002Fled'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E255\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]);\u003C\u002Fspan\u003E \n  \u003Cspan class=\"k\"\u003Eelse\u003C\u002Fspan\u003E \n    \u003Cspan class=\"nx\"\u003Eajax_post\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E'\u002Ffpga\u002Fapi\u002Fcall\u002Fled'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E255\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]);\u003C\u002Fspan\u003E   \n  \u003Cspan class=\"nb\"\u003Edocument\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ebody\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EsetAttribute\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E'data-active'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ECONTROLS\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclassId\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]);\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F标注并显示识别的类型\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Cp\u003E演示的完整视频可以参见：\u003C\u002Fp\u003E\u003Cp\u003E\u003Ca href=\"http:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fv.youku.com\u002Fv_show\u002Fid_XMzcyNDM1MTk0MA%3D%3D.html%3Fspm%3Da2hzp.8244740.0.0\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Ev.youku.com\u002Fv_show\u002Fid_X\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003EMzcyNDM1MTk0MA==.html?spm=a2hzp.8244740.0.0\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E6. 参考资料\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F35823261\" class=\"internal\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Ezhuanlan.zhihu.com\u002Fp\u002F35\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003E823261\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Ca href=\"http:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fbaike.baidu.com\u002Fitem\u002F%25E5%25AD%25A6%25E4%25B9%25A0%25E8%25BF%2581%25E7%25A7%25BB\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Ebaike.baidu.com\u002Fitem\u002F%E\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003E5%AD%A6%E4%B9%A0%E8%BF%81%E7%A7%BB\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F35352154\" class=\"internal\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Ezhuanlan.zhihu.com\u002Fp\u002F35\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003E352154\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003ETensorFlow.js 入门教程 (6) 迁移学习\u003C\u002Fp\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F35901025\" class=\"internal\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Ezhuanlan.zhihu.com\u002Fp\u002F35\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003E901025\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Ca href=\"http:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Ftech.sina.com.cn\u002Froll\u002F2018-07-22\u002Fdoc-ihfqtahi7611239.shtml\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Etech.sina.com.cn\u002Froll\u002F2\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003E018-07-22\u002Fdoc-ihfqtahi7611239.shtml\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E作者介绍\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cb\u003E李知周\u003C\u002Fb\u003E，曾任某知名投行大数据科学家，从事基于大数据与机器学习的开发与数据分析工作，构建过基于自然语言处理的交易员通信记录监管系统以及基于日志处理的网络安全系统，拥有 GIAC 网络安全持续监控认证。中国科学院微系统与信息技术研究所博士，发表过多篇基于机器学习的异常检测相关 EI SCI 学术论文，拥有多项国际国内专利，物联网早期创业者与创客，发起了开源物联网项目 Openfpgaduino（\u003Ca href=\"http:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgithub.com\u002FOpenFPGAduino\u002FOpenFPGAduino\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Egithub.com\u002FOpenFPGAduin\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003Eo\u002FOpenFPGAduino\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E），著有《JavaScript 物联网：架构与数据处理》，致力于通过传播知识创新帮助他人跨越技术鸿沟。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E黄劲\u003C\u002Fb\u003E，清华大学电子工程系硕士。曾在英特尔亚太研发中心担任深度学习工程师，从事 CPU 上深度学习模型的性能优化和低精度推理研究与实现。现在上海云丹网络科技有限公司担任核心开发，从事工业大数据和机器学习应用的搭建与开发。\u003C\u002Fp\u003E","commentCount":1,"linkbox":{"url":"","category":"","pic":"","title":""},"isTitleImageFullScreen":false,"type":"article","suggestEdit":{"status":false,"url":"","reason":"","tip":"","title":""},"tipjarorsCount":0,"status":0,"updated":1542278975,"hasPublishingDraft":false,"reason":"","voting":0,"created":1542278975,"column":{"acceptSubmission":true,"title":"AI前沿研究","url":"http:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Fcolumns\u002Fc_207951713","commentPermission":"all","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f10777f9d6ff1f876b0a21248699b49d_{size}.jpg","gender":-1,"type":"people","name":"新智元","url":"http:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Fpeople\u002F59ee4d25ff7a093ad6590f32bc9e4361","badge":[{"type":"identity","description":"已认证的官方帐号"}],"userType":"organization","isAdvertiser":false,"avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f10777f9d6ff1f876b0a21248699b49d_is.jpg","isFollowing":false,"isOrg":true,"headline":"人工智能","urlToken":"xin-zhi-yuan-88-3","id":"59ee4d25ff7a093ad6590f32bc9e4361"},"updated":1542199555,"imageUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-e38a8ac8a8d1962ee7859e5165976003_l.jpg","type":"column","id":"c_207951713"},"commentPermission":"all","title":"TensorFlow.js：一次基于JavaScript的迁移学习实践","annotationAction":[],"url":"http:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F49970085","paging":{"prev":{"id":49922603,"title":"224秒训练ImageNet！这次创纪录的是索尼大法"}},"imageUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-29ddf95e9b6a860e9a05e8dc348a889d_r.jpg","isFavorited":false,"excerptTitle":"","canComment":{"status":true,"reason":""},"isNormal":true}},"columns":{"c_207951713":{"acceptSubmission":true,"description":"新智元重点关注人工智能、机器人等前沿领域发展，关注人机融合、人工智能和机器人革命对人类社会与文明进化的影响，领航中国新智能时代。","title":"AI前沿研究","url":"http:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Fcolumns\u002Fc_207951713","commentPermission":"all","author":{"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f10777f9d6ff1f876b0a21248699b49d_{size}.jpg","gender":-1,"type":"people","name":"新智元","url":"http:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Fpeople\u002F59ee4d25ff7a093ad6590f32bc9e4361","badge":[{"type":"identity","description":"已认证的官方帐号"}],"userType":"organization","isAdvertiser":false,"avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f10777f9d6ff1f876b0a21248699b49d_is.jpg","isOrg":true,"headline":"人工智能","urlToken":"xin-zhi-yuan-88-3","id":"59ee4d25ff7a093ad6590f32bc9e4361"},"updated":1542199555,"imageUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-e38a8ac8a8d1962ee7859e5165976003_l.jpg","isFollowing":false,"type":"column","id":"c_207951713","articlesCount":29}},"topics":{},"roundtables":{},"favlists":{},"comments":{},"notifications":{},"ebooks":{},"activities":{},"feeds":{},"pins":{},"positions":{},"promotions":{},"drafts":{}},"currentUser":"","account":{"lockLevel":{},"unlockTicketStatus":false,"unlockTicket":null,"challenge":[],"errorStatus":false,"message":"","isFetching":false,"accountInfo":{},"urlToken":{"loading":false}},"settings":{"socialBind":null,"inboxMsg":null,"notification":{},"email":{},"privacyFlag":null,"blockedUsers":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"blockedFollowees":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"ignoredTopics":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"restrictedTopics":null,"laboratory":{}},"notification":{},"people":{"profileStatus":{},"activitiesByUser":{},"answersByUser":{},"answersSortByVotesByUser":{},"answersIncludedByUser":{},"votedAnswersByUser":{},"thankedAnswersByUser":{},"voteAnswersByUser":{},"thankAnswersByUser":{},"topicAnswersByUser":{},"articlesByUser":{},"articlesSortByVotesByUser":{},"articlesIncludedByUser":{},"pinsByUser":{},"positionsByUser":{},"questionsByUser":{},"commercialQuestionsByUser":{},"favlistsByUser":{},"followingByUser":{},"followersByUser":{},"mutualsByUser":{},"followingColumnsByUser":{},"followingQuestionsByUser":{},"followingFavlistsByUser":{},"followingTopicsByUser":{},"publicationsByUser":{},"columnsByUser":{},"allFavlistsByUser":{},"brands":null,"creationsByUser":{},"creationsSortByVotesByUser":{}},"env":{"ab":{"config":{"experiments":[{"expId":"launch-ad_ios_lans-2","expPrefix":"ad_ios_lans","isDynamicallyUpdated":true,"isRuntime":true,"includeTriggerInfo":false},{"expId":"launch-gw_adr_dkts-11","expPrefix":"gw_adr_dkts","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-gw_adr_mini-2","expPrefix":"gw_adr_mini","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-gw_adr_wbtp-2","expPrefix":"gw_adr_wbtp","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-gw_adr_wxfb-2","expPrefix":"gw_adr_wxfb","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-gw_anr_wxbk-2","expPrefix":"gw_anr_wxbk","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-gw_ios_dkts-8","expPrefix":"gw_ios_dkts","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-gw_ios_mini-2","expPrefix":"gw_ios_mini","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-gw_ios_wxb-2","expPrefix":"gw_ios_wxb","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-gw_ios_wxfb-1","expPrefix":"gw_ios_wxfb","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-gw_wbtp-2","expPrefix":"gw_wbtp","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-mp_amap_ios-1","expPrefix":"mp_amap_ios","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-mp_apm-1","expPrefix":"mp_apm","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-mp_hb_si-3","expPrefix":"mp_hb_si","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-mp_ios_bvc-2","expPrefix":"mp_ios_bvc","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-mp_ios_webp-2","expPrefix":"mp_ios_webp","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-mp_video_feed-2","expPrefix":"mp_video_feed","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-se_ios_topsearch-2","expPrefix":"se_ios_topsearch","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-top_dtmt-10","expPrefix":"top_dtmt","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-top_feed_card-1","expPrefix":"top_feed_card","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_adrupload_cdn-2","expPrefix":"vd_adrupload_cdn","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_ppt_enter_2-2","expPrefix":"vd_ppt_enter_2","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_upload_cdn-2","expPrefix":"vd_upload_cdn","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_zm_core-2","expPrefix":"vd_zm_core","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_onemoresearch-1","expPrefix":"se_onemoresearch","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false}],"params":[{"id":"se_ltr","type":"String","value":"1","chainId":"_all_"},{"id":"adr_real_time_launch_http","type":"String","value":"http_off"},{"id":"ios_spic","type":"String","value":"0"},{"id":"se_daxuechuisou","type":"String","value":"new","chainId":"_all_"},{"id":"adr_grow_guide_login_4","type":"String","value":"3"},{"id":"hb_report","type":"String","value":"0"},{"id":"adr_wxbk","type":"String","value":"1"},{"id":"ios_comment","type":"String","value":"0"},{"id":"top_ad_slot","type":"String","value":"1","chainId":"_all_"},{"id":"top_rerank_breakin","type":"String","value":"-1","chainId":"_all_"},{"id":"top_yc","type":"String","value":"0","chainId":"_all_"},{"id":"adr_editor_version","type":"String","value":"V2"},{"id":"adr_new_roundtable","type":"String","value":"true"},{"id":"adr_use_gd","type":"String","value":"n"},{"id":"top_billupdate1","type":"String","value":"2","chainId":"_all_"},{"id":"tp_ios_topic_write_pin_guide","type":"String","value":"1","chainId":"_all_"},{"id":"adr_dkts","type":"String","value":"20"},{"id":"adr_more_hyb_card","type":"String","value":"0"},{"id":"adr_task_statistics","type":"String","value":"false"},{"id":"adr_sqtc","type":"String","value":"1"},{"id":"ios_wxfb","type":"String","value":"0"},{"id":"se_gemini_service","type":"String","value":"content","chainId":"_all_"},{"id":"top_30","type":"String","value":"0","chainId":"_all_"},{"id":"top_fqa","type":"String","value":"0","chainId":"_all_"},{"id":"adr_cashier_color","type":"String","value":"0"},{"id":"adr_new_answer_pager","type":"String","value":"false"},{"id":"adr_osen_label","type":"String","value":"old"},{"id":"top_video_fix_position","type":"String","value":"0","chainId":"_all_"},{"id":"ios_more_editcard","type":"String","value":"true"},{"id":"ios_q_o_b","type":"String","value":"0"},{"id":"ios_telecom_login","type":"String","value":"1"},{"id":"adr_topsearch","type":"String","value":"2"},{"id":"ios_ge4","type":"String","value":"3"},{"id":"ios_mlssq","type":"String","value":"0"},{"id":"top_recall_core_interest","type":"String","value":"81","chainId":"_all_"},{"id":"adr_guest_refresh","type":"String","value":"1"},{"id":"top_feedre_cpt","type":"String","value":"101","chainId":"_all_"},{"id":"top_no_weighing","type":"String","value":"1","chainId":"_all_"},{"id":"web_card_style","type":"String","value":"b"},{"id":"ios_consultation","type":"String","value":"0"},{"id":"top_recommend_topic_card","type":"String","value":"0","chainId":"_all_"},{"id":"top_rerank_reweight","type":"String","value":"-1","chainId":"_all_"},{"id":"ios_article_misc_panel","type":"String","value":"0"},{"id":"ios_searchbox","type":"String","value":"0"},{"id":"top_test_4_liguangyi","type":"String","value":"1","chainId":"_all_"},{"id":"ios_profile_sig","type":"String","value":"true"},{"id":"top_hca","type":"String","value":"0","chainId":"_all_"},{"id":"top_tagore_topic","type":"String","value":"0","chainId":"_all_"},{"id":"se_major_onebox","type":"String","value":"major","chainId":"_all_"},{"id":"top_memberfree","type":"String","value":"1","chainId":"_all_"},{"id":"top_rank","type":"String","value":"0","chainId":"_all_"},{"id":"ios_x_z_c0","type":"String","value":"1"},{"id":"top_newfollow","type":"String","value":"0","chainId":"_all_"},{"id":"top_user_gift","type":"String","value":"0","chainId":"_all_"},{"id":"adr_perm","type":"String","value":"0"},{"id":"adr_zmcore","type":"String","value":"1"},{"id":"hb_entity_ui","type":"String","value":"origin"},{"id":"ios_search_tab","type":"String","value":"0"},{"id":"se_new_market_search","type":"String","value":"off","chainId":"_all_"},{"id":"top_hweb","type":"String","value":"0","chainId":"_all_"},{"id":"se_correct_ab","type":"String","value":"0","chainId":"_all_"},{"id":"top_recall_tb_short","type":"String","value":"61","chainId":"_all_"},{"id":"top_tag_isolation","type":"String","value":"0","chainId":"_all_"},{"id":"ls_new_video","type":"String","value":"0","chainId":"_all_"},{"id":"top_ab_validate","type":"String","value":"0","chainId":"_all_"},{"id":"top_alt","type":"String","value":"0","chainId":"_all_"},{"id":"ios_pay_view","type":"String","value":"new"},{"id":"ios_profile_badge","type":"String","value":"true"},{"id":"ios_qtoc","type":"String","value":"0"},{"id":"ios_real_time_launch_http","type":"String","value":"http_off"},{"id":"top_is_gr","type":"String","value":"0","chainId":"_all_"},{"id":"top_vd_rt_int","type":"String","value":"0","chainId":"_all_"},{"id":"top_adpar","type":"String","value":"0","chainId":"_all_"},{"id":"top_card","type":"String","value":"-1","chainId":"_all_"},{"id":"adr_ques_comment","type":"String","value":"0"},{"id":"ios_lssq","type":"String","value":"0"},{"id":"ios_ps","type":"String","value":"0"},{"id":"top_gr_auto_model","type":"String","value":"0","chainId":"_all_"},{"id":"top_retag","type":"String","value":"0","chainId":"_all_"},{"id":"hb_stream_render","type":"String","value":"0"},{"id":"top_recall_tb_long","type":"String","value":"51","chainId":"_all_"},{"id":"top_topic_feedre","type":"String","value":"21","chainId":"_all_"},{"id":"ios_magitab","type":"String","value":"0"},{"id":"ios_question_new_comment","type":"String","value":"0"},{"id":"top_sj","type":"String","value":"2","chainId":"_all_"},{"id":"adr_profile_label","type":"String","value":"1"},{"id":"adr_profile_medal","type":"String","value":"0"},{"id":"ios_ad_cta","type":"String","value":"0"},{"id":"ios_lans","type":"String","value":"close"},{"id":"se_filter","type":"String","value":"0","chainId":"_all_"},{"id":"top_billboard_count","type":"String","value":"1","chainId":"_all_"},{"id":"top_root","type":"String","value":"0","chainId":"_all_"},{"id":"adr_ans_video","type":"String","value":"N"},{"id":"adr_guest_login","type":"String","value":"0"},{"id":"adr_pre_load_html","type":"String","value":"0"},{"id":"ios_webp","type":"String","value":"1"},{"id":"top_billab","type":"String","value":"0","chainId":"_all_"},{"id":"top_local","type":"String","value":"1","chainId":"_all_"},{"id":"top_nid","type":"String","value":"0","chainId":"_all_"},{"id":"tp_sft","type":"String","value":"a","chainId":"_all_"},{"id":"adr_article_misc","type":"String","value":"0"},{"id":"adr_q_bar","type":"String","value":"NO"},{"id":"ios_answer_preload","type":"String","value":"0"},{"id":"se_merger","type":"String","value":"1","chainId":"_all_"},{"id":"top_nucc","type":"String","value":"0","chainId":"_all_"},{"id":"adr_comment","type":"String","value":"false"},{"id":"hb_billboard","type":"String","value":"0"},{"id":"ios_psn","type":"String","value":"n"},{"id":"top_multi_model","type":"String","value":"0","chainId":"_all_"},{"id":"ios_video_feed","type":"String","value":"1"},{"id":"ios_vid_qt","type":"String","value":"0"},{"id":"se_consulting_price","type":"String","value":"n","chainId":"_all_"},{"id":"se_shopsearch","type":"String","value":"0","chainId":"_all_"},{"id":"top_feedtopiccard","type":"String","value":"0","chainId":"_all_"},{"id":"adr_android_medal_badge_view","type":"String","value":"false"},{"id":"adr_prt","type":"String","value":"false"},{"id":"adr_traffic_threshold","type":"String","value":"314572800"},{"id":"adr_medal","type":"String","value":"0"},{"id":"se_product_rank_list","type":"String","value":"0","chainId":"_all_"},{"id":"top_ac_merge","type":"String","value":"0","chainId":"_all_"},{"id":"top_newfollowans","type":"String","value":"0","chainId":"_all_"},{"id":"top_root_ac","type":"String","value":"1","chainId":"_all_"},{"id":"top_sjre","type":"String","value":"0","chainId":"_all_"},{"id":"hb_best_answerer","type":"String","value":"0"},{"id":"ios_hybrid_intercepting","type":"String","value":"1"},{"id":"se_gi","type":"String","value":"0","chainId":"_all_"},{"id":"top_root_few_topic","type":"String","value":"0","chainId":"_all_"},{"id":"web_heifetz_column_api2","type":"String","value":"0"},{"id":"adr_spic","type":"String","value":"0"},{"id":"top_gr_topic_reweight","type":"String","value":"0","chainId":"_all_"},{"id":"top_login_card","type":"String","value":"1","chainId":"_all_"},{"id":"ios_launch_timeout","type":"String","value":"-1"},{"id":"top_distinction","type":"String","value":"0","chainId":"_all_"},{"id":"top_root_mg","type":"String","value":"1","chainId":"_all_"},{"id":"ios_asp","type":"String","value":"off"},{"id":"ios_video_upload_cdn","type":"String","value":"1"},{"id":"se_cm","type":"String","value":"1","chainId":"_all_"},{"id":"se_cq","type":"String","value":"0","chainId":"_all_"},{"id":"top_gr_model","type":"String","value":"0","chainId":"_all_"},{"id":"adr_android_launch_ad_mp4","type":"String","value":"open"},{"id":"adr_cta","type":"String","value":"0"},{"id":"adr_recommend_column","type":"String","value":"0"},{"id":"top_nmt","type":"String","value":"0","chainId":"_all_"},{"id":"top_video_rew","type":"String","value":"0","chainId":"_all_"},{"id":"ios_hybrid_editor_v3","type":"String","value":"0"},{"id":"ios_input_image","type":"String","value":"1"},{"id":"adr_feed_video_continuous","type":"String","value":"0"},{"id":"hb_majorob_style","type":"String","value":"0"},{"id":"ios_db_n_e","type":"String","value":"0"},{"id":"ios_new_player","type":"String","value":"0"},{"id":"ios_q_a_c","type":"String","value":"0"},{"id":"ls_new_score","type":"String","value":"0","chainId":"_all_"},{"id":"top_raf","type":"String","value":"n","chainId":"_all_"},{"id":"adr_article_new_comment","type":"String","value":"0"},{"id":"hb_recommend_column","type":"String","value":"1"},{"id":"hb_unfollow_reason","type":"String","value":"0"},{"id":"ios_medal_badge_view","type":"String","value":"false"},{"id":"top_dtmt","type":"String","value":"2","chainId":"_all_"},{"id":"top_promo","type":"String","value":"1","chainId":"_all_"},{"id":"adr_launch_ad_new_strategy","type":"String","value":"open"},{"id":"ios_answer_hybrid_preload","type":"String","value":"0"},{"id":"ios_le_nav","type":"String","value":"0"},{"id":"pin_efs","type":"String","value":"orig","chainId":"_all_"},{"id":"zr_ans_rec","type":"String","value":"gbrank","chainId":"_all_"},{"id":"adr_liguangi_test","type":"String","value":"1"},{"id":"top_follow_reason","type":"String","value":"0","chainId":"_all_"},{"id":"adr_rlp","type":"String","value":"0"},{"id":"ios_7324","type":"String","value":"0"},{"id":"ios_km_center","type":"String","value":"0"},{"id":"ios_roundtable","type":"String","value":"B"},{"id":"top_nad","type":"String","value":"1","chainId":"_all_"},{"id":"top_nuc","type":"String","value":"0","chainId":"_all_"},{"id":"adr_pdf","type":"String","value":"n"},{"id":"adr_use_cashier","type":"String","value":"new"},{"id":"hb_live_btn_color","type":"String","value":"default_color"},{"id":"adr_local_server_enable","type":"String","value":"0"},{"id":"top_billvideo","type":"String","value":"0","chainId":"_all_"},{"id":"top_nszt","type":"String","value":"0","chainId":"_all_"},{"id":"web_column_auto_invite","type":"String","value":"0"},{"id":"web_heifetz_grow_ad","type":"String","value":"0"},{"id":"adr_anr_watch","type":"String","value":"false"},{"id":"adr_member_switch","type":"String","value":"0"},{"id":"adr_wxfb","type":"String","value":"0"},{"id":"top_tffrt","type":"String","value":"0","chainId":"_all_"},{"id":"top_vds_alb_pos","type":"String","value":"0","chainId":"_all_"},{"id":"top_vd_op","type":"String","value":"0","chainId":"_all_"},{"id":"web_new_comment","type":"String","value":"0"},{"id":"adr_book_is_card","type":"String","value":"0"},{"id":"ios_ad_web_cache","type":"String","value":"0"},{"id":"ios_book_is_card","type":"String","value":"1"},{"id":"adr_mqtt","type":"String","value":"0"},{"id":"adr_new_hybrid","type":"String","value":"0"},{"id":"top_v_album","type":"String","value":"1","chainId":"_all_"},{"id":"adr_wbtp","type":"String","value":"1"},{"id":"se_minor_onebox","type":"String","value":"d","chainId":"_all_"},{"id":"top_an","type":"String","value":"0","chainId":"_all_"},{"id":"ios_apm","type":"String","value":"1"},{"id":"ios_ff_cardtype","type":"String","value":"A"},{"id":"top_billread","type":"String","value":"1","chainId":"_all_"},{"id":"top_free_content","type":"String","value":"-1","chainId":"_all_"},{"id":"top_rerank_isolation","type":"String","value":"-1","chainId":"_all_"},{"id":"adr_mini","type":"String","value":"1"},{"id":"adr_sdk_data_switch","type":"String","value":"0"},{"id":"adr_unif","type":"String","value":"off"},{"id":"top_vdio_rew","type":"String","value":"0","chainId":"_all_"},{"id":"top_wonderful","type":"String","value":"1","chainId":"_all_"},{"id":"se_relevant_query","type":"String","value":"new","chainId":"_all_"},{"id":"top_uit","type":"String","value":"0","chainId":"_all_"},{"id":"top_vd_gender","type":"String","value":"0","chainId":"_all_"},{"id":"adr_traffic_monitor","type":"String","value":"false"},{"id":"ios_onemoresearch","type":"String","value":"0"},{"id":"se_dt","type":"String","value":"1","chainId":"_all_"},{"id":"top_mlt_model","type":"String","value":"0","chainId":"_all_"},{"id":"adr_video_topic_volume_control","type":"String","value":"0"},{"id":"se_rescore","type":"String","value":"1","chainId":"_all_"},{"id":"top_followtop","type":"String","value":"0","chainId":"_all_"},{"id":"top_new_user_gift","type":"String","value":"0","chainId":"_all_"},{"id":"top_recall_deep_user","type":"String","value":"1","chainId":"_all_"},{"id":"top_tr","type":"String","value":"0","chainId":"_all_"},{"id":"tp_write_pin_guide","type":"String","value":"3","chainId":"_all_"},{"id":"ios_quill_editor","type":"String","value":"0"},{"id":"se_consulting_switch","type":"String","value":"off","chainId":"_all_"},{"id":"top_new_feed","type":"String","value":"1","chainId":"_all_"},{"id":"ios_question_answer_preload","type":"String","value":"0"},{"id":"se_auto_syn","type":"String","value":"0","chainId":"_all_"},{"id":"top_billpic","type":"String","value":"0","chainId":"_all_"},{"id":"top_retagg","type":"String","value":"0","chainId":"_all_"},{"id":"top_tagore","type":"String","value":"1","chainId":"_all_"},{"id":"adr_edit_question","type":"String","value":"0"},{"id":"adr_mqtt_5_24_0","type":"String","value":"0"},{"id":"ios_pdf","type":"String","value":"n"},{"id":"top_tmt","type":"String","value":"0","chainId":"_all_"},{"id":"ios_question_invite_v2","type":"String","value":"0"},{"id":"se_tf","type":"String","value":"1","chainId":"_all_"},{"id":"web_question_invite","type":"String","value":"N"},{"id":"adr_android_gdt","type":"String","value":"open"},{"id":"ios_1752","type":"String","value":"0"},{"id":"ios_article_new_comment","type":"String","value":"0"},{"id":"ios_wbtp","type":"String","value":"1"},{"id":"se_majorob_style","type":"String","value":"0","chainId":"_all_"},{"id":"ios_amap","type":"String","value":"y"},{"id":"top_bill","type":"String","value":"0","chainId":"_all_"},{"id":"adr_ppt_enter","type":"String","value":"1"},{"id":"adr_test_delete","type":"String","value":"0"},{"id":"hb_consulting_price","type":"String","value":"np"},{"id":"ios_wxbk","type":"String","value":"1"},{"id":"adr_invite","type":"String","value":"false"},{"id":"ios_invite_ans","type":"String","value":"A"},{"id":"ios_q_bar","type":"String","value":"NO"},{"id":"adr_anp","type":"String","value":"android_answer_pager_off"},{"id":"adr_consult","type":"String","value":"0"},{"id":"top_universalebook","type":"String","value":"1","chainId":"_all_"},{"id":"ios_ios_launch_mp4","type":"String","value":"1"},{"id":"top_ntr","type":"String","value":"1","chainId":"_all_"},{"id":"top_quality","type":"String","value":"0","chainId":"_all_"},{"id":"top_slot_ad_pos","type":"String","value":"1","chainId":"_all_"},{"id":"adr_bugly","type":"String","value":"n"},{"id":"adr_comment_new_editor","type":"String","value":"0"},{"id":"adr_ps","type":"String","value":"0"},{"id":"top_mt","type":"String","value":"0","chainId":"_all_"},{"id":"top_recall","type":"String","value":"1","chainId":"_all_"},{"id":"tp_discussion_feed_card_type","type":"String","value":"0","chainId":"_all_"},{"id":"web_stream_render","type":"String","value":"0"},{"id":"adr_next_answer_btn","type":"String","value":"0"},{"id":"adr_onemoresearch","type":"String","value":"0"},{"id":"top_f_r_nb","type":"String","value":"1","chainId":"_all_"},{"id":"se_ingress","type":"String","value":"on","chainId":"_all_"},{"id":"top_feedre_rtt","type":"String","value":"41","chainId":"_all_"},{"id":"adr_unfollow_reason","type":"String","value":"0"},{"id":"ios_next_ans","type":"String","value":"N"},{"id":"ios_video_continuous","type":"String","value":"0"},{"id":"ios_vm_subject_type","type":"String","value":"0"},{"id":"se_dl","type":"String","value":"1","chainId":"_all_"},{"id":"top_hqt","type":"String","value":"0","chainId":"_all_"},{"id":"top_recall_tb","type":"String","value":"1","chainId":"_all_"},{"id":"top_recall_tb_follow","type":"String","value":"71","chainId":"_all_"},{"id":"adr_video_upload_cdn","type":"String","value":"1"},{"id":"hb_active_answerer","type":"String","value":"0"},{"id":"ios_notif_new_invite","type":"String","value":"off"},{"id":"tp_discussion_feed_type_android","type":"String","value":"0","chainId":"_all_"},{"id":"tp_favsku","type":"String","value":"a","chainId":"_all_"},{"id":"top_manual_tag","type":"String","value":"1","chainId":"_all_"},{"id":"adr_android_video_continuous","type":"String","value":"0"},{"id":"adr_refresh_token","type":"String","value":"1"},{"id":"top_gif","type":"String","value":"0","chainId":"_all_"},{"id":"top_spec_promo","type":"String","value":"1","chainId":"_all_"},{"id":"top_tuner_refactor","type":"String","value":"-1","chainId":"_all_"},{"id":"ios_ad_skip_pos","type":"String","value":"up"},{"id":"se_entity","type":"String","value":"on","chainId":"_all_"},{"id":"top_rerank_repos","type":"String","value":"-1","chainId":"_all_"},{"id":"ios_mini","type":"String","value":"1"},{"id":"ios_video_agent_4_22","type":"String","value":"false"},{"id":"ios_vid_home","type":"String","value":"0"},{"id":"ls_is_use_zrec","type":"String","value":"0","chainId":"_all_"},{"id":"top_ebook","type":"String","value":"0","chainId":"_all_"},{"id":"adr_consultation","type":"String","value":"0"},{"id":"adr_telecom_login","type":"String","value":"1"},{"id":"hb_major_onebox","type":"String","value":"0"},{"id":"top_lowup","type":"String","value":"1","chainId":"_all_"},{"id":"top_yhgc","type":"String","value":"0","chainId":"_all_"},{"id":"hb_liguangyi_test","type":"String","value":"1"},{"id":"top_deep_promo","type":"String","value":"0","chainId":"_all_"},{"id":"top_roundtable","type":"String","value":"1","chainId":"_all_"},{"id":"top_video_score","type":"String","value":"1","chainId":"_all_"},{"id":"pin_ef","type":"String","value":"orig","chainId":"_all_"},{"id":"se_refactored_search_index","type":"String","value":"0","chainId":"_all_"},{"id":"top_pfq","type":"String","value":"0","chainId":"_all_"},{"id":"top_recall_follow_user","type":"String","value":"91","chainId":"_all_"},{"id":"se_billboard","type":"String","value":"3","chainId":"_all_"},{"id":"se_wiki_box","type":"String","value":"1","chainId":"_all_"},{"id":"top_cc_at","type":"String","value":"1","chainId":"_all_"},{"id":"ios_article_recommend_column","type":"String","value":"0"},{"id":"ios_dkts","type":"String","value":"20"},{"id":"ios_topsearch","type":"String","value":"1"},{"id":"ios_video_agent_4_28","type":"String","value":"false"},{"id":"top_feedre_itemcf","type":"String","value":"31","chainId":"_all_"},{"id":"adr_mbv","type":"String","value":"false"},{"id":"adr_question_invite_v2","type":"String","value":"0"},{"id":"ios_adr_vid_vol","type":"String","value":"0"},{"id":"top_videos_priority","type":"String","value":"-1","chainId":"_all_"},{"id":"top_feedre","type":"String","value":"1","chainId":"_all_"},{"id":"top_fqai","type":"String","value":"0","chainId":"_all_"},{"id":"top_root_web","type":"String","value":"0","chainId":"_all_"},{"id":"adr_traffic_leak","type":"String","value":"false"},{"id":"hb_new_upvote","type":"String","value":"online_upvote"},{"id":"ios_cashier_color","type":"String","value":"0"}],"chains":[{"chainId":"_all_"}]},"triggers":{}},"userAgent":{"Edge":false,"Wechat":false,"Weibo":false,"QQ":false,"Qzone":false,"Mobile":false,"Android":false,"iOS":false,"isAppleDevice":false,"Zhihu":false,"ZhihuHybrid":false,"isBot":false,"Tablet":false,"UC":false,"Sogou":false,"Qihoo":false,"Baidu":false,"BaiduApp":false,"isWebView":false,"origin":"Mozilla\u002F5.0 (Windows NT 10.0; WOW64) AppleWebKit\u002F537.36 (KHTML, like Gecko) Chrome\u002F53.0.2785.104 Safari\u002F537.36"},"trafficSource":"production","edition":{"baidu":false,"sogou":false,"baiduBeijing":false,"yidianzixun":false},"theme":"light","referer":"","conf":{},"ipInfo":{"cityName":"Shanghai","countryName":"China","regionName":"Shanghai","countryCode":"CN"},"logged":false,"tdkInfo":{}},"me":{"accountInfoLoadStatus":{},"organizationProfileStatus":{},"columnContributions":[]},"comments":{"stickers":[],"commentWithPicPermission":{},"notificationsComments":{},"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"conversationMore":{},"parent":{}},"pushNotifications":{"default":{"isFetching":false,"isDrained":false,"ids":[]},"follow":{"isFetching":false,"isDrained":false,"ids":[]},"vote_thank":{"isFetching":false,"isDrained":false,"ids":[]},"currentTab":"default","notificationsCount":{"default":0,"follow":0,"vote_thank":0}},"messages":{"data":{},"currentTab":"common","messageCount":0},"register":{"registerValidateSucceeded":null,"registerValidateErrors":{},"registerConfirmError":null,"sendDigitsError":null,"registerConfirmSucceeded":null},"login":{"loginUnregisteredError":false,"loginBindWechatError":false,"loginConfirmError":null,"sendDigitsError":null,"validateDigitsError":false,"loginConfirmSucceeded":null,"qrcodeLoginToken":"","qrcodeLoginScanStatus":0,"qrcodeLoginError":null,"qrcodeLoginReturnNewToken":false},"active":{"sendDigitsError":null,"activeConfirmSucceeded":null,"activeConfirmError":null},"switches":{},"captcha":{"captchaNeeded":false,"captchaValidated":false,"captchaBase64String":null,"captchaValidationMessage":null,"loginCaptchaExpires":false},"sms":{"supportedCountries":[]},"recommendation":{},"shareTexts":{},"articles":{"voters":{}},"previewPost":{},"favlists":{"relations":{}},"columns":{"voters":{}},"reward":{"answer":{},"article":{},"question":{}},"video":{"data":{}},"topstory":{"topstorys":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"recommend":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"follow":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"followWonderful":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"sidebar":null,"announcement":{},"hotList":[],"guestFeeds":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"followExtra":{"isNewUser":null,"isFetched":false,"followCount":0,"followers":[]}},"readStatus":{},"column":{},"articleContribution":{"contributeRequests":[],"deleteContributeIdList":[],"handledContributeIdList":[],"recommendedColumns":[],"pinnedColumns":[],"sentContributeRequestsIdList":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"c_207951713"]},"columnContribution":{"autoInviteEnabled":false,"recommendedContributors":[],"contributionInvitation":null}},"clientConfig":{"fetchHost":"www.zhihu.com"}}</script><script src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/vendor.7c9abc3e398528f8abf1.js.下载"></script><script src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/column.app.1c88fe5b605dfb8f6ea3.js.下载"></script><script></script><div><div style="display: none;">想来知乎工作？请发送邮件到 jobs@zhihu.com</div></div><div><div><div class="Editable-languageSuggestions" style="left: -1179px; top: -999px;"><div><div class="Popover"><div class="Editable-languageSuggestionsInput Input-wrapper"><input autocomplete="off" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-activedescendant="AutoComplete12-0" id="Popover11-toggle" aria-haspopup="true" aria-owns="Popover11-content" class="Input" placeholder="选择语言" value=""><div class="Input-after"><svg class="Zi Zi--Select" fill="#afbdcf" viewBox="0 0 24 24" width="24" height="24"><path d="M12 16.183l2.716-2.966a.757.757 0 0 1 1.064.001.738.738 0 0 1 0 1.052l-3.247 3.512a.758.758 0 0 1-1.064 0L8.22 14.27a.738.738 0 0 1 0-1.052.758.758 0 0 1 1.063 0L12 16.183zm0-9.365L9.284 9.782a.758.758 0 0 1-1.064 0 .738.738 0 0 1 0-1.052l3.248-3.512a.758.758 0 0 1 1.065 0L15.78 8.73a.738.738 0 0 1 0 1.052.757.757 0 0 1-1.063.001L12 6.818z" fill-rule="evenodd"></path></svg></div></div></div></div></div></div></div><script src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/zap.js.下载"></script><div id="qb-sougou-search" style="display: none; opacity: 0;"><p>搜索</p><p class="last-btn">复制</p><iframe src="./TensorFlow.js：一次基于JavaScript的迁移学习实践 - 知乎_files/saved_resource.html"></iframe></div></body></html>